# é˜¿ä¸å…‹æ‹‰ç¬¦å·è¯†åˆ«æ£€æµ‹ç³»ç»Ÿæºç åˆ†äº«
 # [ä¸€æ¡é¾™æ•™å­¦YOLOV8æ ‡æ³¨å¥½çš„æ•°æ®é›†ä¸€é”®è®­ç»ƒ_70+å…¨å¥—æ”¹è¿›åˆ›æ–°ç‚¹å‘åˆŠ_Webå‰ç«¯å±•ç¤º]

### 1.ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

é¡¹ç›®å‚è€ƒ[AAAI Association for the Advancement of Artificial Intelligence](https://gitee.com/qunshansj/projects)

é¡¹ç›®æ¥æº[AACV Association for the Advancement of Computer Vision](https://gitee.com/qunmasj/projects)

ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

é˜¿ä¸å…‹æ‹‰ç¬¦å·æ˜¯æºè‡ªè¥¿éçš„ä¼ ç»Ÿæ–‡åŒ–ç¬¦å·ï¼Œæ‰¿è½½ç€ä¸°å¯Œçš„å†å²ã€å“²å­¦å’Œç¤¾ä¼šæ„ä¹‰ã€‚è¿™äº›ç¬¦å·ä¸ä»…åœ¨è‰ºæœ¯å’Œè®¾è®¡ä¸­å æœ‰é‡è¦åœ°ä½ï¼Œè¿˜åœ¨æ•™è‚²ã€æ–‡åŒ–ä¼ æ‰¿å’Œç¤¾ä¼šäº¤æµä¸­å‘æŒ¥ç€ä¸å¯æˆ–ç¼ºçš„ä½œç”¨ã€‚éšç€å…¨çƒåŒ–çš„æ¨è¿›ï¼Œé˜¿ä¸å…‹æ‹‰ç¬¦å·é€æ¸è¢«æ›´å¤šçš„äººæ‰€è®¤è¯†å’Œæ¥å—ï¼Œæˆä¸ºè·¨æ–‡åŒ–äº¤æµçš„é‡è¦åª’ä»‹ã€‚ç„¶è€Œï¼Œä¼ ç»Ÿçš„é˜¿ä¸å…‹æ‹‰ç¬¦å·è¯†åˆ«æ–¹æ³•å¤šä¾èµ–äºäººå·¥è¯†åˆ«ï¼Œæ•ˆç‡ä½ä¸‹ä¸”å®¹æ˜“å—åˆ°ä¸»è§‚å› ç´ çš„å½±å“ã€‚å› æ­¤ï¼ŒåŸºäºè®¡ç®—æœºè§†è§‰æŠ€æœ¯çš„è‡ªåŠ¨åŒ–è¯†åˆ«ç³»ç»Ÿçš„å¼€å‘æ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚

è¿‘å¹´æ¥ï¼Œæ·±åº¦å­¦ä¹ æŠ€æœ¯çš„è¿…çŒ›å‘å±•ä¸ºç‰©ä½“æ£€æµ‹é¢†åŸŸå¸¦æ¥äº†æ–°çš„æœºé‡ã€‚YOLOï¼ˆYou Only Look Onceï¼‰ç³»åˆ—æ¨¡å‹å› å…¶é«˜æ•ˆçš„å®æ—¶æ£€æµ‹èƒ½åŠ›è€Œå—åˆ°å¹¿æ³›å…³æ³¨ã€‚YOLOv8ä½œä¸ºè¯¥ç³»åˆ—çš„æœ€æ–°ç‰ˆæœ¬ï¼Œç»“åˆäº†æ›´ä¸ºå…ˆè¿›çš„ç½‘ç»œç»“æ„å’Œè®­ç»ƒç­–ç•¥ï¼Œå…·å¤‡äº†æ›´å¼ºçš„ç‰¹å¾æå–å’Œåˆ†ç±»èƒ½åŠ›ã€‚ç„¶è€Œï¼Œç°æœ‰çš„YOLOv8æ¨¡å‹åœ¨ç‰¹å®šé¢†åŸŸçš„åº”ç”¨ä¸Šä»å­˜åœ¨ä¸€å®šçš„å±€é™æ€§ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†å¤æ‚èƒŒæ™¯å’Œå¤šæ ·åŒ–ç¬¦å·æ—¶ï¼Œè¯†åˆ«å‡†ç¡®ç‡æœ‰å¾…æé«˜ã€‚å› æ­¤ï¼Œé’ˆå¯¹é˜¿ä¸å…‹æ‹‰ç¬¦å·çš„ç‰¹å¾ï¼Œæ”¹è¿›YOLOv8æ¨¡å‹ä»¥æå‡å…¶è¯†åˆ«æ€§èƒ½ï¼Œå…·æœ‰é‡è¦çš„å­¦æœ¯ä»·å€¼å’Œå®é™…æ„ä¹‰ã€‚

æœ¬ç ”ç©¶æ—¨åœ¨åŸºäºæ”¹è¿›çš„YOLOv8æ¨¡å‹ï¼Œæ„å»ºä¸€ä¸ªé«˜æ•ˆçš„é˜¿ä¸å…‹æ‹‰ç¬¦å·è¯†åˆ«ç³»ç»Ÿã€‚é€šè¿‡å¯¹1700å¹…åŒ…å«107ç±»é˜¿ä¸å…‹æ‹‰ç¬¦å·çš„å›¾åƒæ•°æ®é›†è¿›è¡Œæ·±å…¥åˆ†æä¸å¤„ç†ï¼Œç ”ç©¶å°†èšç„¦äºç¬¦å·çš„å½¢çŠ¶ã€é¢œè‰²å’Œçº¹ç†ç­‰ç‰¹å¾ï¼Œæ¢ç´¢å¦‚ä½•é€šè¿‡æ”¹è¿›ç½‘ç»œç»“æ„å’Œä¼˜åŒ–è®­ç»ƒç­–ç•¥æ¥æé«˜æ¨¡å‹çš„è¯†åˆ«å‡†ç¡®ç‡ã€‚æ•°æ®é›†ä¸­åŒ…å«çš„ç¬¦å·ç§ç±»ä¸°å¯Œï¼Œæ¶µç›–äº†å¦‚â€œAbanâ€ã€â€œAdinkraheneâ€ã€â€œSankofaâ€ç­‰å…·æœ‰æ·±åšæ–‡åŒ–å†…æ¶µçš„ç¬¦å·ï¼Œè¿™ä¸ºæ¨¡å‹çš„è®­ç»ƒæä¾›äº†å¤šæ ·åŒ–çš„æ ·æœ¬ï¼Œèƒ½å¤Ÿæœ‰æ•ˆæå‡æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚

æ­¤å¤–ï¼Œé˜¿ä¸å…‹æ‹‰ç¬¦å·çš„è‡ªåŠ¨è¯†åˆ«ä¸ä»…èƒ½å¤Ÿä¿ƒè¿›ç›¸å…³æ–‡åŒ–çš„ä¼ æ’­ä¸ä¿æŠ¤ï¼Œè¿˜èƒ½ä¸ºæ•™è‚²ã€è‰ºæœ¯åˆ›ä½œç­‰é¢†åŸŸæä¾›æ–°çš„å·¥å…·å’Œæ–¹æ³•ã€‚é€šè¿‡å°†ä¼ ç»Ÿæ–‡åŒ–ä¸ç°ä»£ç§‘æŠ€ç›¸ç»“åˆï¼Œæœ¬ç ”ç©¶å°†ä¸ºé˜¿ä¸å…‹æ‹‰ç¬¦å·çš„æ•°å­—åŒ–å’Œæ™ºèƒ½åŒ–å‘å±•æä¾›æ–°çš„æ€è·¯ã€‚åŒæ—¶ï¼Œç ”ç©¶æˆæœä¹Ÿæœ‰æœ›ä¸ºå…¶ä»–ä¼ ç»Ÿæ–‡åŒ–ç¬¦å·çš„è¯†åˆ«ä¸åº”ç”¨æä¾›å€Ÿé‰´ï¼Œæ¨åŠ¨ç›¸å…³é¢†åŸŸçš„è¿›ä¸€æ­¥ç ”ç©¶ä¸å‘å±•ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼ŒåŸºäºæ”¹è¿›YOLOv8çš„é˜¿ä¸å…‹æ‹‰ç¬¦å·è¯†åˆ«ç³»ç»Ÿçš„ç ”ç©¶ï¼Œä¸ä»…å…·æœ‰é‡è¦çš„ç†è®ºæ„ä¹‰ï¼Œè¿˜å…·å¤‡å¹¿æ³›çš„åº”ç”¨å‰æ™¯ã€‚é€šè¿‡æœ¬ç ”ç©¶çš„å¼€å±•ï¼Œå°†ä¸ºé˜¿ä¸å…‹æ‹‰ç¬¦å·çš„è‡ªåŠ¨è¯†åˆ«æä¾›ä¸€ç§æ–°çš„è§£å†³æ–¹æ¡ˆï¼ŒåŠ©åŠ›ä¼ ç»Ÿæ–‡åŒ–çš„ä¼ æ‰¿ä¸åˆ›æ–°ï¼Œæ¨åŠ¨æ–‡åŒ–å¤šæ ·æ€§çš„ä¿æŠ¤ä¸å‘å±•ã€‚

### 2.å›¾ç‰‡æ¼”ç¤º

![1.png](1.png)

![2.png](2.png)

![3.png](3.png)

##### æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ2.å›¾ç‰‡æ¼”ç¤ºâ€å’Œâ€œ3.è§†é¢‘æ¼”ç¤ºâ€å±•ç¤ºçš„ç³»ç»Ÿå›¾ç‰‡æˆ–è€…è§†é¢‘å¯èƒ½ä¸ºè€ç‰ˆæœ¬ï¼Œæ–°ç‰ˆæœ¬åœ¨è€ç‰ˆæœ¬çš„åŸºç¡€ä¸Šå‡çº§å¦‚ä¸‹ï¼šï¼ˆå®é™…æ•ˆæœä»¥å‡çº§çš„æ–°ç‰ˆæœ¬ä¸ºå‡†ï¼‰

  ï¼ˆ1ï¼‰é€‚é…äº†YOLOV8çš„â€œç›®æ ‡æ£€æµ‹â€æ¨¡å‹å’Œâ€œå®ä¾‹åˆ†å‰²â€æ¨¡å‹ï¼Œé€šè¿‡åŠ è½½ç›¸åº”çš„æƒé‡ï¼ˆ.ptï¼‰æ–‡ä»¶å³å¯è‡ªé€‚åº”åŠ è½½æ¨¡å‹ã€‚

  ï¼ˆ2ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«æ¨¡å¼ã€‚

  ï¼ˆ3ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«ç»“æœä¿å­˜å¯¼å‡ºï¼Œè§£å†³æ‰‹åŠ¨å¯¼å‡ºï¼ˆå®¹æ˜“å¡é¡¿å‡ºç°çˆ†å†…å­˜ï¼‰å­˜åœ¨çš„é—®é¢˜ï¼Œè¯†åˆ«å®Œè‡ªåŠ¨ä¿å­˜ç»“æœå¹¶å¯¼å‡ºåˆ°tempDirä¸­ã€‚

  ï¼ˆ4ï¼‰æ”¯æŒWebå‰ç«¯ç³»ç»Ÿä¸­çš„æ ‡é¢˜ã€èƒŒæ™¯å›¾ç­‰è‡ªå®šä¹‰ä¿®æ”¹ï¼Œåé¢æä¾›ä¿®æ”¹æ•™ç¨‹ã€‚

  å¦å¤–æœ¬é¡¹ç›®æä¾›è®­ç»ƒçš„æ•°æ®é›†å’Œè®­ç»ƒæ•™ç¨‹,æš‚ä¸æä¾›æƒé‡æ–‡ä»¶ï¼ˆbest.ptï¼‰,éœ€è¦æ‚¨æŒ‰ç…§æ•™ç¨‹è¿›è¡Œè®­ç»ƒåå®ç°å›¾ç‰‡æ¼”ç¤ºå’ŒWebå‰ç«¯ç•Œé¢æ¼”ç¤ºçš„æ•ˆæœã€‚

### 3.è§†é¢‘æ¼”ç¤º

[3.1 è§†é¢‘æ¼”ç¤º](https://www.bilibili.com/video/BV1C34JeHEwf/)

### 4.æ•°æ®é›†ä¿¡æ¯å±•ç¤º

##### 4.1 æœ¬é¡¹ç›®æ•°æ®é›†è¯¦ç»†æ•°æ®ï¼ˆç±»åˆ«æ•°ï¼†ç±»åˆ«åï¼‰

nc: 103
names: ['Aban', 'Abe dua', 'Abusua Pa', 'Adinkrahene Dua', 'Adinkrahene', 'Adwera', 'Adwo', 'Agyindawuru', 'Akoben', 'Akofena', 'Akoko_nan', 'Akoma', 'AkomaNtoaso', 'Ananse Ntontan', 'Asaase ye duru', 'Aya', 'Bese_saka', 'Bi Nka Bi', 'Biribiara Beye yie', 'Boa me na memmoa wo', 'Dame Dame', 'Denkyem', 'Dono', 'Duafe', 'Dwinnemmen', 'EPA', 'Enibere_enso_gya', 'Ese_Ne_Tekrema', 'Fafanto', 'Fihankra', 'Fofo', 'Funtumfunefu Denkyemfunefu', 'Gyenyame', 'KaeMe', 'Kojo Baiden', 'Kramo Bone Amma Yeanhu Kramo Pa', 'Kuronti ne Akwamu', 'Kwatakye Atiko', 'Mate masie', 'Mframadan', 'Mmara Krado', 'Mmomudwan', 'Mmusuyidie', 'Mpatapo', 'Mpuannum', 'Nante Yie', 'Nea Ope Se Obedi Hene', 'Nea onnim', 'Nea wope se nkrofo ye ma wo no', 'Nkyinkyim', 'Non-Adinkra', 'Nsoroma', 'Ntesie', 'Nyame Akuma', 'Nyame Biribi wo soro', 'Nyame nti', 'Nyame nwu na mawu', 'Nyame ye Ohene', 'Odo nnyew fie kwan', 'Ohene Aniwa', 'Ohene Tuo', 'Okodee Mmowere', 'Okuafo Pa', 'Onyankopon Aniwa', 'Onyankopon ne yen ntena', 'Osiadan Nyame', 'Osram ne Nsroma', 'Osram', 'Owuo kum Nyame', 'Pempamsie', 'Sankofa', 'Sepow', 'Sesa wo suban', 'Sunsum', 'Tabono', 'Tamfo Bebre', 'Tumi te se Kosua', 'Tuo ne Akofena', 'Wawa Aba', 'Wo Nsa Da Mu a', 'Wonsa_da_mu_a', 'dono ntoaso', 'eban', 'fawohodie', 'hwehwemudua', 'hye wo nhye', 'ketepa', 'kuntinkantan', 'mako', 'nkonsonkonson', 'nkontim', 'nkuruma kesse', 'nkyima', 'nsaa', 'nserewa', 'nyame Dua', 'nyansapo', 'ohene adwa', 'owo foro adobe', 'owuo atwedee', 'pagya', 'sankofa', 'woforo dua pa a']


##### 4.2 æœ¬é¡¹ç›®æ•°æ®é›†ä¿¡æ¯ä»‹ç»

æ•°æ®é›†ä¿¡æ¯å±•ç¤º

åœ¨æœ¬ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†åä¸ºâ€œAdinkra symbolsâ€çš„æ•°æ®é›†ï¼Œæ—¨åœ¨è®­ç»ƒå’Œæ”¹è¿›YOLOv8æ¨¡å‹ï¼Œä»¥å®ç°é«˜æ•ˆçš„é˜¿ä¸å…‹æ‹‰ç¬¦å·è¯†åˆ«ç³»ç»Ÿã€‚é˜¿ä¸å…‹æ‹‰ç¬¦å·æºè‡ªäºè¥¿éçš„åŠ çº³ï¼Œå…·æœ‰ä¸°å¯Œçš„æ–‡åŒ–å†…æ¶µå’Œè±¡å¾æ„ä¹‰ï¼Œå¹¿æ³›åº”ç”¨äºè‰ºæœ¯ã€çººç»‡å’Œè£…é¥°ç­‰é¢†åŸŸã€‚è¯¥æ•°æ®é›†åŒ…å«103ä¸ªä¸åŒçš„ç±»åˆ«ï¼Œæ¯ä¸ªç±»åˆ«éƒ½ä»£è¡¨ä¸€ç§ç‹¬ç‰¹çš„é˜¿ä¸å…‹æ‹‰ç¬¦å·ï¼Œè¿™äº›ç¬¦å·ä¸ä»…åœ¨è§†è§‰ä¸Šå…·æœ‰è¾¨è¯†åº¦ï¼Œè€Œä¸”åœ¨ç¤¾ä¼šæ–‡åŒ–ä¸­æ‰¿è½½ç€æ·±åšçš„å†å²å’Œæ„ä¹‰ã€‚

æ•°æ®é›†ä¸­åŒ…å«çš„ç±»åˆ«æ¶µç›–äº†å¤šç§é˜¿ä¸å…‹æ‹‰ç¬¦å·ï¼Œå¦‚â€œAbanâ€ï¼ˆå›´å¢™ï¼‰ã€â€œAbe duaâ€ï¼ˆæ¦•æ ‘ï¼‰ã€â€œAbusua Paâ€ï¼ˆè‰¯å¥½çš„å®¶æ—ï¼‰ç­‰ã€‚è¿™äº›ç¬¦å·çš„é€‰æ‹©åæ˜ äº†åŠ çº³æ–‡åŒ–çš„å¤šæ ·æ€§å’Œå¤æ‚æ€§ã€‚ä¾‹å¦‚ï¼Œâ€œSankofaâ€è±¡å¾ç€å›é¡¾è¿‡å»ä»¥æ›´å¥½åœ°é¢å¯¹æœªæ¥ï¼Œè€Œâ€œGyenyameâ€åˆ™è¡¨è¾¾äº†å¯¹ä¸Šå¸çš„ä¿¡ä»°å’Œä¾èµ–ã€‚æ¯ä¸ªç¬¦å·ä¸ä»…ä»…æ˜¯ä¸€ä¸ªå›¾å½¢ï¼Œå®ƒä»¬çš„èƒŒåéƒ½æœ‰ç€ä¸°å¯Œçš„æ•…äº‹å’Œæ•™ä¹‰ï¼Œä¼ é€’ç€é“å¾·ã€æ™ºæ…§å’Œç”Ÿæ´»å“²å­¦ã€‚

åœ¨æ•°æ®é›†çš„æ„å»ºè¿‡ç¨‹ä¸­ï¼Œç¡®ä¿äº†æ¯ä¸ªç¬¦å·çš„é«˜è´¨é‡å›¾åƒé‡‡é›†ï¼Œä»¥ä¾¿ä¸ºYOLOv8æ¨¡å‹æä¾›æ¸…æ™°ã€å‡†ç¡®çš„è®­ç»ƒæ ·æœ¬ã€‚è¿™äº›å›¾åƒçš„å¤šæ ·æ€§ï¼ŒåŒ…æ‹¬ä¸åŒçš„èƒŒæ™¯ã€å…‰ç…§æ¡ä»¶å’Œç¬¦å·çš„è¡¨ç°å½¢å¼ï¼Œå¢å¼ºäº†æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œä½¿å…¶èƒ½å¤Ÿåœ¨å®é™…åº”ç”¨ä¸­æ›´å¥½åœ°è¯†åˆ«å’Œåˆ†ç±»é˜¿ä¸å…‹æ‹‰ç¬¦å·ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¸Œæœ›æ¨¡å‹ä¸ä»…èƒ½å¤Ÿè¯†åˆ«å‡ºç¬¦å·çš„å½¢çŠ¶ï¼Œè¿˜èƒ½ç†è§£å…¶æ–‡åŒ–èƒŒæ™¯å’Œè±¡å¾æ„ä¹‰ï¼Œä»è€Œåœ¨æ›´å¹¿æ³›çš„åœºæ™¯ä¸­åº”ç”¨ã€‚

æ­¤å¤–ï¼Œæ•°æ®é›†ä¸­çš„æ¯ä¸ªç±»åˆ«éƒ½ç»è¿‡ç²¾å¿ƒæ ‡æ³¨ï¼Œç¡®ä¿äº†è®­ç»ƒè¿‡ç¨‹ä¸­çš„å‡†ç¡®æ€§å’Œæœ‰æ•ˆæ€§ã€‚æ ‡æ³¨çš„ç»†è‡´ç¨‹åº¦ç›´æ¥å½±å“åˆ°æ¨¡å‹çš„å­¦ä¹ æ•ˆæœï¼Œå› æ­¤æˆ‘ä»¬åœ¨æ ‡æ³¨è¿‡ç¨‹ä¸­é‡‡ç”¨äº†ä¸¥æ ¼çš„æ ‡å‡†ï¼Œä»¥ç¡®ä¿æ¯ä¸ªç¬¦å·çš„ç‰¹å¾éƒ½è¢«å‡†ç¡®æ•æ‰ã€‚é€šè¿‡è¿™ç§é«˜è´¨é‡çš„æ ‡æ³¨ï¼ŒYOLOv8æ¨¡å‹èƒ½å¤Ÿåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å­¦ä¹ åˆ°ç¬¦å·çš„ç»†å¾®å·®åˆ«ï¼Œä»è€Œæé«˜è¯†åˆ«çš„å‡†ç¡®ç‡ã€‚

åœ¨æœªæ¥çš„ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬è®¡åˆ’è¿›ä¸€æ­¥æ‰©å±•è¯¥æ•°æ®é›†ï¼Œå¢åŠ æ›´å¤šçš„é˜¿ä¸å…‹æ‹‰ç¬¦å·ä»¥åŠä¸åŒçš„è¡¨ç°å½¢å¼ï¼Œä»¥å¢å¼ºæ¨¡å‹çš„å­¦ä¹ èƒ½åŠ›å’Œé€‚åº”æ€§ã€‚é€šè¿‡ä¸æ–­ä¸°å¯Œæ•°æ®é›†ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿæ¨åŠ¨é˜¿ä¸å…‹æ‹‰ç¬¦å·è¯†åˆ«æŠ€æœ¯çš„å‘å±•ï¼Œä½¿å…¶åœ¨æ–‡åŒ–é—äº§ä¿æŠ¤ã€æ•™è‚²å’Œè‰ºæœ¯åˆ›ä½œç­‰é¢†åŸŸå‘æŒ¥æ›´å¤§çš„ä½œç”¨ã€‚

æ€»ä¹‹ï¼Œâ€œAdinkra symbolsâ€æ•°æ®é›†ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„åŸºç¡€ï¼Œä»¥è®­ç»ƒå’Œæ”¹è¿›YOLOv8æ¨¡å‹ï¼Œå®ç°é«˜æ•ˆçš„ç¬¦å·è¯†åˆ«ã€‚é€šè¿‡å¯¹é˜¿ä¸å…‹æ‹‰ç¬¦å·çš„æ·±å…¥ç ”ç©¶å’Œç†è§£ï¼Œæˆ‘ä»¬ä¸ä»…å¸Œæœ›æå‡æŠ€æœ¯æ°´å¹³ï¼Œæ›´å¸Œæœ›èƒ½å¤Ÿä¼ æ’­å’Œå¼˜æ‰¬è¿™ä¸€ç‹¬ç‰¹çš„æ–‡åŒ–é—äº§ã€‚

![4.png](4.png)

![5.png](5.png)

![6.png](6.png)

![7.png](7.png)

![8.png](8.png)

### 5.å…¨å¥—é¡¹ç›®ç¯å¢ƒéƒ¨ç½²è§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰

[5.1 ç¯å¢ƒéƒ¨ç½²æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404473917358506534?logTag=c807d0cbc21c0ef59de5)




[5.2 å®‰è£…Pythonè™šæ‹Ÿç¯å¢ƒåˆ›å»ºå’Œä¾èµ–åº“å®‰è£…è§†é¢‘æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404474678003106304?logTag=1f1041108cd1f708b01a)

### 6.æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰

[6.1 æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰](https://www.ixigua.com/7404477157818401292?logTag=d31a2dfd1983c9668658)

### 7.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼‰

[7.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼‰](https://www.ixigua.com/7404478314661806627?logTag=29066f8288e3f4eea3a4)

### 8.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£ï¼ˆéç§‘ç­ä¹Ÿå¯ä»¥è½»æ¾å†™åˆŠå‘åˆŠï¼ŒV10ç‰ˆæœ¬æ­£åœ¨ç§‘ç ”å¾…æ›´æ–°ï¼‰

ç”±äºç¯‡å¹…é™åˆ¶ï¼Œæ¯ä¸ªåˆ›æ–°ç‚¹çš„å…·ä½“åŸç†è®²è§£å°±ä¸ä¸€ä¸€å±•å¼€ï¼Œå…·ä½“è§ä¸‹åˆ—ç½‘å€ä¸­çš„åˆ›æ–°ç‚¹å¯¹åº”å­é¡¹ç›®çš„æŠ€æœ¯åŸç†åšå®¢ç½‘å€ã€Blogã€‘ï¼š

![9.png](9.png)

[8.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£é“¾æ¥](https://gitee.com/qunmasj/good)

### 9.ç³»ç»ŸåŠŸèƒ½å±•ç¤ºï¼ˆæ£€æµ‹å¯¹è±¡ä¸ºä¸¾ä¾‹ï¼Œå®é™…å†…å®¹ä»¥æœ¬é¡¹ç›®æ•°æ®é›†ä¸ºå‡†ï¼‰

å›¾9.1.ç³»ç»Ÿæ”¯æŒæ£€æµ‹ç»“æœè¡¨æ ¼æ˜¾ç¤º

  å›¾9.2.ç³»ç»Ÿæ”¯æŒç½®ä¿¡åº¦å’ŒIOUé˜ˆå€¼æ‰‹åŠ¨è°ƒèŠ‚

  å›¾9.3.ç³»ç»Ÿæ”¯æŒè‡ªå®šä¹‰åŠ è½½æƒé‡æ–‡ä»¶best.pt(éœ€è¦ä½ é€šè¿‡æ­¥éª¤5ä¸­è®­ç»ƒè·å¾—)

  å›¾9.4.ç³»ç»Ÿæ”¯æŒæ‘„åƒå¤´å®æ—¶è¯†åˆ«

  å›¾9.5.ç³»ç»Ÿæ”¯æŒå›¾ç‰‡è¯†åˆ«

  å›¾9.6.ç³»ç»Ÿæ”¯æŒè§†é¢‘è¯†åˆ«

  å›¾9.7.ç³»ç»Ÿæ”¯æŒè¯†åˆ«ç»“æœæ–‡ä»¶è‡ªåŠ¨ä¿å­˜

  å›¾9.8.ç³»ç»Ÿæ”¯æŒExcelå¯¼å‡ºæ£€æµ‹ç»“æœæ•°æ®

![10.png](10.png)

![11.png](11.png)

![12.png](12.png)

![13.png](13.png)

![14.png](14.png)

![15.png](15.png)

![16.png](16.png)

![17.png](17.png)

### 10.åŸå§‹YOLOV8ç®—æ³•åŸç†

åŸå§‹YOLOv8ç®—æ³•åŸç†

YOLOv8ç®—æ³•ä½œä¸ºç›®æ ‡æ£€æµ‹é¢†åŸŸä¸­çš„ä¸€é¡¹é‡è¦è¿›å±•ï¼Œå»¶ç»­äº†YOLOç³»åˆ—ç®—æ³•çš„ä¼˜è‰¯ä¼ ç»Ÿï¼ŒåŒæ—¶åœ¨å¤šä¸ªæ–¹é¢è¿›è¡Œäº†åˆ›æ–°å’Œä¼˜åŒ–ã€‚è¯¥ç®—æ³•çš„è®¾è®¡ç†å¿µä¸»è¦å›´ç»•ç€æé«˜æ£€æµ‹ç²¾åº¦å’Œè®¡ç®—æ•ˆç‡ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†å¤æ‚åœºæ™¯å’Œå¤šæ ·åŒ–ç›®æ ‡æ—¶çš„è¡¨ç°ã€‚YOLOv8çš„æ ¸å¿ƒåœ¨äºå…¶ç‹¬ç‰¹çš„ç½‘ç»œç»“æ„å’Œæ”¹è¿›çš„æŸå¤±å‡½æ•°ï¼Œè¿™äº›åˆ›æ–°ä½¿å¾—å®ƒåœ¨å®æ—¶ç›®æ ‡æ£€æµ‹ä»»åŠ¡ä¸­è¡¨ç°å‡ºè‰²ã€‚

é¦–å…ˆï¼ŒYOLOv8åœ¨éª¨å¹²ç½‘ç»œçš„è®¾è®¡ä¸Šé‡‡ç”¨äº†è·¨çº§ç»“æ„ï¼ˆCross Stage Partial, CSPï¼‰ï¼Œè¿™ä¸€ç»“æ„çš„å¼•å…¥æ—¨åœ¨æé«˜ç‰¹å¾æå–çš„æ•ˆç‡å’Œå‡†ç¡®æ€§ã€‚ä¸YOLOv5ç›¸æ¯”ï¼ŒYOLOv8å¯¹C3æ¨¡å—è¿›è¡Œäº†ä¼˜åŒ–ï¼Œé‡‡ç”¨äº†æ›´è½»é‡çš„C2fæ¨¡å—ã€‚è¿™ç§ç»“æ„çš„è°ƒæ•´ä¸ä»…å‡å°‘äº†è®¡ç®—é‡ï¼Œè¿˜æé«˜äº†æ¨¡å‹çš„æ¨ç†é€Ÿåº¦ï¼Œä½¿å¾—YOLOv8èƒ½å¤Ÿåœ¨æ›´ä½çš„ç¡¬ä»¶è¦æ±‚ä¸‹å®ç°é«˜æ•ˆçš„ç›®æ ‡æ£€æµ‹ã€‚æ­¤å¤–ï¼ŒYOLOv8ä¾ç„¶ä¿ç•™äº†ç©ºé—´é‡‘å­—å¡”æ± åŒ–ï¼ˆSPPFï¼‰æ¨¡å—ï¼Œè¿™ä¸€æ¨¡å—çš„ä½¿ç”¨æœ‰æ•ˆåœ°å¢å¼ºäº†æ¨¡å‹å¯¹å¤šå°ºåº¦ç›®æ ‡çš„æ£€æµ‹èƒ½åŠ›ã€‚

åœ¨ç‰¹å¾èåˆæ–¹é¢ï¼ŒYOLOv8å¼•å…¥äº†ç‰¹å¾é‡‘å­—å¡”ç½‘ç»œï¼ˆFPNï¼‰å’Œè·¯å¾„èšåˆç½‘ç»œï¼ˆPANï¼‰ï¼Œé€šè¿‡å¤šå°ºåº¦ç‰¹å¾çš„èåˆï¼Œè¿›ä¸€æ­¥æå‡äº†æ¨¡å‹å¯¹ä¸åŒå°ºå¯¸ç›®æ ‡çš„æ£€æµ‹æ€§èƒ½ã€‚ä¸ä¼ ç»Ÿçš„ä¸Šé‡‡æ ·é˜¶æ®µä¸åŒï¼ŒYOLOv8åœ¨æ­¤é˜¶æ®µä¸­åˆ é™¤äº†å·ç§¯ç»“æ„ï¼Œé‡‡ç”¨äº†æ›´ä¸ºç®€æ´çš„è¿æ¥æ–¹å¼ï¼Œä»è€Œå‡å°‘äº†æ¨¡å‹çš„å¤æ‚æ€§ï¼ŒåŒæ—¶ä¿æŒäº†é«˜æ•ˆçš„ç‰¹å¾ä¼ é€’ã€‚è¿™ç§è®¾è®¡ä½¿å¾—YOLOv8åœ¨å¤„ç†å¤æ‚åœºæ™¯æ—¶ï¼Œèƒ½å¤Ÿæ›´å¥½åœ°ä¿ç•™é‡è¦çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œä»è€Œæé«˜æ£€æµ‹çš„å‡†ç¡®æ€§ã€‚

YOLOv8çš„æŸå¤±å‡½æ•°è®¾è®¡ä¹Ÿæ˜¯å…¶ä¸€å¤§äº®ç‚¹ã€‚ç®—æ³•é‡‡ç”¨äº†æ–°çš„æŸå¤±ç­–ç•¥ï¼Œé€šè¿‡å˜ç„¦æŸå¤±ï¼ˆFocal Lossï¼‰æ¥è®¡ç®—åˆ†ç±»æŸå¤±ï¼Œè¿™ä¸€ç­–ç•¥æœ‰æ•ˆåœ°è§£å†³äº†ç±»åˆ«ä¸å¹³è¡¡é—®é¢˜ï¼Œä½¿å¾—æ¨¡å‹åœ¨é¢å¯¹éš¾ä»¥æ£€æµ‹çš„ç›®æ ‡æ—¶ï¼Œä¾ç„¶èƒ½å¤Ÿä¿æŒè¾ƒé«˜çš„è¯†åˆ«ç‡ã€‚åŒæ—¶ï¼ŒYOLOv8å¼•å…¥äº†æ•°æ®å¹³å‡ä¿çœŸåº¦æŸå¤±å’Œå®Œç¾äº¤å¹¶æ¯”æŸå¤±ï¼ˆPerfect IoU Lossï¼‰æ¥è®¡ç®—è¾¹ç•Œæ¡†æŸå¤±ã€‚è¿™ç§å¤šç»´åº¦çš„æŸå¤±è®¡ç®—æ–¹å¼ï¼Œä½¿å¾—æ¨¡å‹åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­èƒ½å¤Ÿæ›´å¥½åœ°ä¼˜åŒ–è¾¹ç•Œæ¡†çš„å®šä½ç²¾åº¦ï¼Œä»è€Œæé«˜ç›®æ ‡æ£€æµ‹çš„æ•´ä½“æ€§èƒ½ã€‚

æ­¤å¤–ï¼ŒYOLOv8åœ¨æ ·æœ¬åŒ¹é…æ–¹å¼ä¸Šä¹Ÿè¿›è¡Œäº†åˆ›æ–°ï¼Œé‡‡ç”¨äº†Anchor-Freeçš„æ£€æµ‹æ–¹å¼ï¼Œå‡å°‘äº†å¯¹é¢„å®šä¹‰é”šæ¡†çš„ä¾èµ–ã€‚è¿™ä¸€å˜åŒ–ä½¿å¾—æ¨¡å‹åœ¨å¤„ç†å¤šæ ·åŒ–ç›®æ ‡æ—¶ï¼Œèƒ½å¤Ÿæ›´åŠ çµæ´»åœ°é€‚åº”ä¸åŒçš„ç›®æ ‡å½¢çŠ¶å’Œå°ºå¯¸ï¼Œè¿›ä¸€æ­¥æå‡äº†æ£€æµ‹çš„å‡†ç¡®æ€§å’Œé²æ£’æ€§ã€‚è§£è€¦å¤´ç»“æ„çš„å¼•å…¥ï¼Œä½¿å¾—æ¨¡å‹åœ¨è¿›è¡Œç›®æ ‡åˆ†ç±»å’Œè¾¹ç•Œæ¡†å›å½’æ—¶ï¼Œå¯ä»¥ç‹¬ç«‹ä¼˜åŒ–ï¼Œä»è€Œæé«˜äº†æ•´ä½“çš„æ£€æµ‹æ€§èƒ½ã€‚

å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒYOLOv8çš„ä¸åŒç‰ˆæœ¬ï¼ˆå¦‚YOLOv8nã€YOLOv8sã€YOLOv8mç­‰ï¼‰ä¸ºä¸åŒåº”ç”¨åœºæ™¯æä¾›äº†çµæ´»çš„é€‰æ‹©ã€‚ä»¥YOLOv8nä¸ºä¾‹ï¼Œè¯¥ç‰ˆæœ¬åœ¨è®¾è®¡ä¸Šæ›´åŠ è½»é‡åŒ–ï¼Œé€‚åˆåœ¨èµ„æºå—é™çš„ç¯å¢ƒä¸­è¿è¡Œï¼Œä¾ç„¶èƒ½å¤Ÿä¿æŒè¾ƒé«˜çš„æ£€æµ‹ç²¾åº¦ã€‚è¿™ç§å¤šæ ·åŒ–çš„ç‰ˆæœ¬é€‰æ‹©ï¼Œä½¿å¾—YOLOv8èƒ½å¤Ÿå¹¿æ³›åº”ç”¨äºæ™ºèƒ½ç›‘æ§ã€è‡ªåŠ¨é©¾é©¶ã€æ— äººæœºå·¡æ£€ç­‰å¤šä¸ªé¢†åŸŸã€‚

æ€»çš„æ¥è¯´ï¼ŒYOLOv8ç®—æ³•é€šè¿‡å¯¹ç½‘ç»œç»“æ„çš„ä¼˜åŒ–ã€æŸå¤±å‡½æ•°çš„åˆ›æ–°ä»¥åŠæ ·æœ¬åŒ¹é…æ–¹å¼çš„æ”¹è¿›ï¼ŒæˆåŠŸåœ°æå‡äº†ç›®æ ‡æ£€æµ‹çš„æ•ˆç‡å’Œå‡†ç¡®æ€§ã€‚å…¶åœ¨ç‰¹å¾æå–ã€ç‰¹å¾èåˆå’Œç›®æ ‡å®šä½ç­‰å¤šä¸ªæ–¹é¢çš„åˆ›æ–°ï¼Œä½¿å¾—YOLOv8æˆä¸ºå½“å‰ç›®æ ‡æ£€æµ‹é¢†åŸŸä¸­çš„ä¸€é¡¹é‡è¦æŠ€æœ¯ï¼Œå…·æœ‰å¹¿æ³›çš„åº”ç”¨å‰æ™¯å’Œç ”ç©¶ä»·å€¼ã€‚éšç€æŠ€æœ¯çš„ä¸æ–­è¿›æ­¥ï¼ŒYOLOv8æ— ç–‘å°†åœ¨æœªæ¥çš„ç›®æ ‡æ£€æµ‹ä»»åŠ¡ä¸­å‘æŒ¥æ›´åŠ é‡è¦çš„ä½œç”¨ã€‚

![18.png](18.png)

### 11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰

#### 11.1 ui.py

ä»¥ä¸‹æ˜¯å¯¹ä»£ç çš„æ ¸å¿ƒéƒ¨åˆ†è¿›è¡Œæç‚¼å’Œè¯¦ç»†æ³¨é‡Šçš„ç‰ˆæœ¬ï¼š

```python
import sys  # å¯¼å…¥sysæ¨¡å—ï¼Œç”¨äºè®¿é—®ä¸Pythonè§£é‡Šå™¨ç›¸å…³çš„å˜é‡å’Œå‡½æ•°
import subprocess  # å¯¼å…¥subprocessæ¨¡å—ï¼Œç”¨äºæ‰§è¡Œå¤–éƒ¨å‘½ä»¤

def run_script(script_path):
    """
    ä½¿ç”¨å½“å‰ Python ç¯å¢ƒè¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚

    Args:
        script_path (str): è¦è¿è¡Œçš„è„šæœ¬è·¯å¾„

    Returns:
        None
    """
    # è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„
    python_path = sys.executable

    # æ„å»ºè¿è¡Œå‘½ä»¤ï¼Œä½¿ç”¨streamlitæ¨¡å—è¿è¡ŒæŒ‡å®šçš„è„šæœ¬
    command = f'"{python_path}" -m streamlit run "{script_path}"'

    # æ‰§è¡Œå‘½ä»¤ï¼Œå¹¶ç­‰å¾…å‘½ä»¤æ‰§è¡Œå®Œæˆ
    result = subprocess.run(command, shell=True)
    
    # æ£€æŸ¥å‘½ä»¤æ‰§è¡Œçš„è¿”å›ç ï¼Œå¦‚æœä¸ä¸º0ï¼Œè¡¨ç¤ºæ‰§è¡Œå‡ºé”™
    if result.returncode != 0:
        print("è„šæœ¬è¿è¡Œå‡ºé”™ã€‚")

# å®ä¾‹åŒ–å¹¶è¿è¡Œåº”ç”¨
if __name__ == "__main__":
    # æŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„
    script_path = "web.py"  # å‡è®¾è„šæœ¬åœ¨å½“å‰ç›®å½•ä¸‹

    # è°ƒç”¨å‡½æ•°è¿è¡ŒæŒ‡å®šçš„è„šæœ¬
    run_script(script_path)
```

### ä»£ç åˆ†æä¸æ³¨é‡Šè¯´æ˜ï¼š

1. **å¯¼å…¥æ¨¡å—**ï¼š
   - `sys`æ¨¡å—ç”¨äºè·å–å½“å‰Pythonè§£é‡Šå™¨çš„è·¯å¾„ï¼Œè¿™å¯¹äºåç»­è¿è¡Œè„šæœ¬æ—¶æŒ‡å®šæ­£ç¡®çš„Pythonç¯å¢ƒæ˜¯å¿…è¦çš„ã€‚
   - `subprocess`æ¨¡å—å…è®¸æˆ‘ä»¬ç”Ÿæˆæ–°çš„è¿›ç¨‹ã€è¿æ¥åˆ°å®ƒä»¬çš„è¾“å…¥/è¾“å‡º/é”™è¯¯ç®¡é“ï¼Œå¹¶è·å¾—è¿”å›ç ï¼Œè¿™é‡Œç”¨äºæ‰§è¡Œå¤–éƒ¨å‘½ä»¤ã€‚

2. **`run_script`å‡½æ•°**ï¼š
   - æ¥å—ä¸€ä¸ªå‚æ•°`script_path`ï¼Œè¡¨ç¤ºè¦è¿è¡Œçš„Pythonè„šæœ¬çš„è·¯å¾„ã€‚
   - ä½¿ç”¨`sys.executable`è·å–å½“å‰Pythonè§£é‡Šå™¨çš„è·¯å¾„ï¼Œä»¥ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„Pythonç¯å¢ƒæ¥è¿è¡Œè„šæœ¬ã€‚
   - æ„å»ºä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸²ï¼Œä½¿ç”¨`streamlit`æ¨¡å—æ¥è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚
   - ä½¿ç”¨`subprocess.run`æ‰§è¡Œæ„å»ºçš„å‘½ä»¤ï¼Œå¹¶ç­‰å¾…å…¶å®Œæˆã€‚
   - æ£€æŸ¥å‘½ä»¤çš„è¿”å›ç ï¼Œå¦‚æœè¿”å›ç ä¸ä¸º0ï¼Œè¡¨ç¤ºè„šæœ¬è¿è¡Œå‡ºé”™ï¼Œå¹¶æ‰“å°é”™è¯¯ä¿¡æ¯ã€‚

3. **ä¸»ç¨‹åºå…¥å£**ï¼š
   - é€šè¿‡`if __name__ == "__main__":`ç¡®ä¿åªæœ‰åœ¨ç›´æ¥è¿è¡Œè¯¥è„šæœ¬æ—¶æ‰ä¼šæ‰§è¡Œä»¥ä¸‹ä»£ç ã€‚
   - æŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ä¸º`web.py`ï¼Œå‡è®¾è¯¥è„šæœ¬ä¸å½“å‰è„šæœ¬åœ¨åŒä¸€ç›®å½•ä¸‹ã€‚
   - è°ƒç”¨`run_script`å‡½æ•°ï¼Œä¼ å…¥è„šæœ¬è·¯å¾„ä»¥æ‰§è¡Œè¯¥è„šæœ¬ã€‚

è¿™æ ·ï¼Œä»£ç çš„æ ¸å¿ƒåŠŸèƒ½å’Œé€»è¾‘å¾—ä»¥ä¿ç•™ï¼Œå¹¶ä¸”æ¯ä¸ªéƒ¨åˆ†éƒ½æœ‰è¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šä»¥ä¾¿ç†è§£ã€‚

è¿™ä¸ªæ–‡ä»¶æ˜¯ä¸€ä¸ª Python è„šæœ¬ï¼Œä¸»è¦ç”¨äºè¿è¡Œä¸€ä¸ªåä¸º `web.py` çš„ Streamlit åº”ç”¨ã€‚é¦–å…ˆï¼Œè„šæœ¬é€šè¿‡å¯¼å…¥å¿…è¦çš„æ¨¡å—æ¥å‡†å¤‡ç¯å¢ƒï¼ŒåŒ…æ‹¬ `sys`ã€`os` å’Œ `subprocess`ï¼Œå…¶ä¸­ `sys` ç”¨äºè®¿é—®ä¸ Python è§£é‡Šå™¨ç›¸å…³çš„å˜é‡å’Œå‡½æ•°ï¼Œ`subprocess` åˆ™ç”¨äºæ‰§è¡Œå¤–éƒ¨å‘½ä»¤ã€‚

åœ¨è„šæœ¬ä¸­å®šä¹‰äº†ä¸€ä¸ªåä¸º `run_script` çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•° `script_path`ï¼Œç”¨äºæŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬çš„è·¯å¾„ã€‚å‡½æ•°å†…éƒ¨é¦–å…ˆè·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿åœ¨æ­£ç¡®çš„ç¯å¢ƒä¸­è¿è¡Œè„šæœ¬ã€‚æ¥ç€ï¼Œæ„å»ºä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ `streamlit run` å‘½ä»¤æ¥è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚è¿™é‡Œä½¿ç”¨äº† Python çš„ `subprocess.run` æ–¹æ³•æ¥æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ï¼Œå¹¶ä¸”é€šè¿‡ `shell=True` é€‰é¡¹æ¥å…è®¸åœ¨ shell ä¸­æ‰§è¡Œã€‚

åœ¨æ‰§è¡Œå‘½ä»¤åï¼Œå‡½æ•°ä¼šæ£€æŸ¥è¿”å›çš„ç»“æœç ã€‚å¦‚æœè¿”å›ç ä¸ä¸ºé›¶ï¼Œè¡¨ç¤ºè„šæœ¬è¿è¡Œå‡ºé”™ï¼Œæ­¤æ—¶ä¼šæ‰“å°å‡ºé”™è¯¯ä¿¡æ¯ã€‚

åœ¨è„šæœ¬çš„æœ€åéƒ¨åˆ†ï¼Œä½¿ç”¨ `if __name__ == "__main__":` è¯­å¥æ¥ç¡®ä¿åªæœ‰åœ¨ç›´æ¥è¿è¡Œè¯¥è„šæœ¬æ—¶æ‰ä¼šæ‰§è¡Œä»¥ä¸‹ä»£ç ã€‚è¿™éƒ¨åˆ†ä»£ç æŒ‡å®šäº†è¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ï¼Œå³ `web.py`ï¼Œå¹¶è°ƒç”¨ `run_script` å‡½æ•°æ¥æ‰§è¡Œå®ƒã€‚

æ•´ä½“æ¥çœ‹ï¼Œè¿™ä¸ªè„šæœ¬çš„åŠŸèƒ½æ˜¯ä¸ºäº†æ–¹ä¾¿åœ°å¯åŠ¨ä¸€ä¸ª Streamlit åº”ç”¨ï¼Œé€šè¿‡æŒ‡å®šè„šæœ¬è·¯å¾„æ¥è¿è¡Œå¯¹åº”çš„ Web åº”ç”¨ç¨‹åºã€‚

#### 11.2 code\ultralytics\models\rtdetr\model.py

```python
# Ultralytics YOLO ğŸš€, AGPL-3.0 license
"""
RT-DETRæ¥å£ï¼ŒåŸºäºè§†è§‰å˜æ¢å™¨çš„å®æ—¶ç›®æ ‡æ£€æµ‹å™¨ã€‚RT-DETRæä¾›å®æ—¶æ€§èƒ½å’Œé«˜å‡†ç¡®æ€§ï¼Œ
åœ¨CUDAå’ŒTensorRTç­‰åŠ é€Ÿåç«¯è¡¨ç°ä¼˜å¼‚ã€‚å®ƒå…·æœ‰é«˜æ•ˆçš„æ··åˆç¼–ç å™¨å’ŒIoUæ„ŸçŸ¥æŸ¥è¯¢é€‰æ‹©ï¼Œ
ä»¥æé«˜æ£€æµ‹å‡†ç¡®æ€§ã€‚
"""

from ultralytics.engine.model import Model  # å¯¼å…¥åŸºç¡€æ¨¡å‹ç±»
from ultralytics.nn.tasks import RTDETRDetectionModel  # å¯¼å…¥RT-DETRæ£€æµ‹æ¨¡å‹

from .predict import RTDETRPredictor  # å¯¼å…¥é¢„æµ‹å™¨
from .train import RTDETRTrainer  # å¯¼å…¥è®­ç»ƒå™¨
from .val import RTDETRValidator  # å¯¼å…¥éªŒè¯å™¨


class RTDETR(Model):
    """
    RT-DETRæ¨¡å‹æ¥å£ã€‚è¯¥åŸºäºè§†è§‰å˜æ¢å™¨çš„ç›®æ ‡æ£€æµ‹å™¨æä¾›å®æ—¶æ€§èƒ½å’Œé«˜å‡†ç¡®æ€§ã€‚
    æ”¯æŒé«˜æ•ˆçš„æ··åˆç¼–ç ã€IoUæ„ŸçŸ¥æŸ¥è¯¢é€‰æ‹©å’Œå¯è°ƒçš„æ¨ç†é€Ÿåº¦ã€‚

    å±æ€§:
        model (str): é¢„è®­ç»ƒæ¨¡å‹çš„è·¯å¾„ï¼Œé»˜è®¤ä¸º'rtdetr-l.pt'ã€‚
    """

    def __init__(self, model="rtdetr-l.pt") -> None:
        """
        ä½¿ç”¨ç»™å®šçš„é¢„è®­ç»ƒæ¨¡å‹æ–‡ä»¶åˆå§‹åŒ–RT-DETRæ¨¡å‹ã€‚æ”¯æŒ.ptå’Œ.yamlæ ¼å¼ã€‚

        å‚æ•°:
            model (str): é¢„è®­ç»ƒæ¨¡å‹çš„è·¯å¾„ï¼Œé»˜è®¤ä¸º'rtdetr-l.pt'ã€‚

        å¼‚å¸¸:
            NotImplementedError: å¦‚æœæ¨¡å‹æ–‡ä»¶æ‰©å±•åä¸æ˜¯'pt'ã€'yaml'æˆ–'yml'ã€‚
        """
        # æ£€æŸ¥æ¨¡å‹æ–‡ä»¶æ‰©å±•åæ˜¯å¦æœ‰æ•ˆ
        if model and model.split(".")[-1] not in ("pt", "yaml", "yml"):
            raise NotImplementedError("RT-DETRåªæ”¯æŒä»*.ptã€*.yamlæˆ–*.ymlæ–‡ä»¶åˆ›å»ºã€‚")
        # è°ƒç”¨çˆ¶ç±»åˆå§‹åŒ–æ–¹æ³•
        super().__init__(model=model, task="detect")

    @property
    def task_map(self) -> dict:
        """
        è¿”å›RT-DETRçš„ä»»åŠ¡æ˜ å°„ï¼Œå°†ä»»åŠ¡ä¸ç›¸åº”çš„Ultralyticsç±»å…³è”ã€‚

        è¿”å›:
            dict: ä¸€ä¸ªå­—å…¸ï¼Œå°†ä»»åŠ¡åç§°æ˜ å°„åˆ°RT-DETRæ¨¡å‹çš„Ultralyticsä»»åŠ¡ç±»ã€‚
        """
        return {
            "detect": {
                "predictor": RTDETRPredictor,  # é¢„æµ‹å™¨ç±»
                "validator": RTDETRValidator,  # éªŒè¯å™¨ç±»
                "trainer": RTDETRTrainer,  # è®­ç»ƒå™¨ç±»
                "model": RTDETRDetectionModel,  # RT-DETRæ£€æµ‹æ¨¡å‹ç±»
            }
        }
``` 

### ä»£ç æ ¸å¿ƒéƒ¨åˆ†è¯´æ˜ï¼š
1. **ç±»å®šä¹‰**ï¼š`RTDETR`ç±»ç»§æ‰¿è‡ª`Model`ï¼Œç”¨äºå®ç°RT-DETRç›®æ ‡æ£€æµ‹æ¨¡å‹çš„æ¥å£ã€‚
2. **åˆå§‹åŒ–æ–¹æ³•**ï¼š`__init__`æ–¹æ³•æ¥å—ä¸€ä¸ªæ¨¡å‹è·¯å¾„å‚æ•°ï¼Œæ£€æŸ¥æ–‡ä»¶æ‰©å±•åæ˜¯å¦åˆæ³•ï¼Œå¹¶è°ƒç”¨çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•ã€‚
3. **ä»»åŠ¡æ˜ å°„**ï¼š`task_map`å±æ€§è¿”å›ä¸€ä¸ªå­—å…¸ï¼Œæ˜ å°„ä¸åŒçš„ä»»åŠ¡ï¼ˆå¦‚é¢„æµ‹ã€éªŒè¯ã€è®­ç»ƒï¼‰åˆ°ç›¸åº”çš„ç±»ï¼Œä¾¿äºåç»­è°ƒç”¨ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶æ˜¯ä¸€ä¸ªå…³äºç™¾åº¦çš„RT-DETRæ¨¡å‹çš„æ¥å£å®ç°ï¼ŒRT-DETRæ˜¯ä¸€ç§åŸºäºè§†è§‰å˜æ¢å™¨ï¼ˆVision Transformerï¼‰çš„å®æ—¶ç›®æ ‡æ£€æµ‹å™¨ï¼Œå…·æœ‰é«˜æ•ˆçš„å®æ—¶æ€§èƒ½å’Œå‡†ç¡®æ€§ï¼Œç‰¹åˆ«é€‚åˆåœ¨CUDAå’ŒTensorRTç­‰åŠ é€Ÿåç«¯ä¸Šè¿è¡Œã€‚æ–‡ä»¶ä¸­é¦–å…ˆåŒ…å«äº†ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼Œä»‹ç»äº†RT-DETRçš„ç‰¹ç‚¹ï¼Œå¦‚é«˜æ•ˆçš„æ··åˆç¼–ç å’ŒIoUæ„ŸçŸ¥æŸ¥è¯¢é€‰æ‹©ï¼Œè¿™äº›ç‰¹æ€§èƒ½å¤Ÿæé«˜æ£€æµ‹çš„å‡†ç¡®æ€§ã€‚æ­¤å¤–ï¼Œæ–‡ä»¶è¿˜æä¾›äº†ä¸€ä¸ªé“¾æ¥ï¼ŒæŒ‡å‘æ›´è¯¦ç»†çš„ç ”ç©¶è®ºæ–‡ã€‚

åœ¨ä»£ç çš„å®ç°éƒ¨åˆ†ï¼Œé¦–å…ˆå¯¼å…¥äº†å¿…è¦çš„æ¨¡å—ï¼ŒåŒ…æ‹¬Ultralyticså¼•æ“ä¸­çš„Modelç±»å’ŒRTDETRDetectionModelç±»ï¼Œä»¥åŠç”¨äºé¢„æµ‹ã€è®­ç»ƒå’ŒéªŒè¯çš„ç›¸å…³æ¨¡å—ã€‚æ¥ç€å®šä¹‰äº†RTDETRç±»ï¼Œè¯¥ç±»ç»§æ‰¿è‡ªModelç±»ï¼Œä¸»è¦ç”¨äºæ„å»ºRT-DETRæ¨¡å‹çš„æ¥å£ã€‚

RTDETRç±»çš„æ„é€ å‡½æ•°æ¥æ”¶ä¸€ä¸ªå¯é€‰å‚æ•°modelï¼Œé»˜è®¤å€¼ä¸ºâ€œrtdetr-l.ptâ€ï¼Œè¡¨ç¤ºé¢„è®­ç»ƒæ¨¡å‹çš„è·¯å¾„ã€‚æ„é€ å‡½æ•°ä¸­åŒ…å«ä¸€ä¸ªæ£€æŸ¥ï¼Œç¡®ä¿ä¼ å…¥çš„æ¨¡å‹æ–‡ä»¶åç¼€ä¸ºâ€œptâ€ã€â€œyamlâ€æˆ–â€œymlâ€ï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™æŠ›å‡ºNotImplementedErrorå¼‚å¸¸ã€‚é€šè¿‡è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼ŒRTDETRç±»åˆå§‹åŒ–ä¸ºä¸€ä¸ªæ£€æµ‹ä»»åŠ¡ã€‚

æ­¤å¤–ï¼ŒRTDETRç±»è¿˜å®šä¹‰äº†ä¸€ä¸ªåä¸ºtask_mapçš„å±æ€§ï¼Œå®ƒè¿”å›ä¸€ä¸ªå­—å…¸ï¼Œå°†ä¸åŒçš„ä»»åŠ¡åç§°æ˜ å°„åˆ°ç›¸åº”çš„Ultralyticsç±»ã€‚è¿™äº›ä»»åŠ¡åŒ…æ‹¬é¢„æµ‹ã€éªŒè¯å’Œè®­ç»ƒï¼Œåˆ†åˆ«å¯¹åº”RTDETRPredictorã€RTDETRValidatorå’ŒRTDETRTrainerç±»ï¼Œä»¥åŠRTDETRDetectionModelæ¨¡å‹ã€‚è¿™ç§è®¾è®¡ä½¿å¾—ç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°ä½¿ç”¨RT-DETRè¿›è¡Œç›®æ ‡æ£€æµ‹ç›¸å…³çš„æ“ä½œã€‚

æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªæ–‡ä»¶ä¸ºRT-DETRæ¨¡å‹æä¾›äº†ä¸€ä¸ªæ¸…æ™°çš„æ¥å£ï¼Œä¾¿äºç”¨æˆ·è¿›è¡Œæ¨¡å‹çš„åŠ è½½ã€è®­ç»ƒå’Œæ¨ç†ç­‰æ“ä½œï¼ŒåŒæ—¶ä¹Ÿç¡®ä¿äº†æ¨¡å‹çš„é«˜æ•ˆæ€§å’Œå‡†ç¡®æ€§ã€‚

#### 11.3 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\utils\callbacks\wb.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å’Œæ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼š

```python
# å¯¼å…¥å¿…è¦çš„åº“
from ultralytics.utils import SETTINGS, TESTS_RUNNING
from ultralytics.utils.torch_utils import model_info_for_loggers

# å°è¯•å¯¼å…¥wandbåº“å¹¶è¿›è¡ŒåŸºæœ¬çš„è®¾ç½®æ£€æŸ¥
try:
    assert not TESTS_RUNNING  # ç¡®ä¿å½“å‰ä¸æ˜¯æµ‹è¯•è¿è¡Œ
    assert SETTINGS['wandb'] is True  # ç¡®ä¿wandbé›†æˆå·²å¯ç”¨
    import wandb as wb

    assert hasattr(wb, '__version__')  # ç¡®ä¿wandbåŒ…æ˜¯æœ‰æ•ˆçš„

    import numpy as np
    import pandas as pd

    _processed_plots = {}  # ç”¨äºå­˜å‚¨å·²å¤„ç†çš„å›¾è¡¨

except (ImportError, AssertionError):
    wb = None  # å¦‚æœå¯¼å…¥å¤±è´¥ï¼Œåˆ™å°†wbè®¾ç½®ä¸ºNone

def _custom_table(x, y, classes, title='Precision Recall Curve', x_title='Recall', y_title='Precision'):
    """
    åˆ›å»ºå¹¶è®°å½•è‡ªå®šä¹‰çš„ç²¾ç¡®åº¦-å¬å›ç‡æ›²çº¿å¯è§†åŒ–ã€‚
    
    å‚æ•°:
        x (List): xè½´çš„å€¼ï¼Œé•¿åº¦ä¸ºNã€‚
        y (List): yè½´çš„å€¼ï¼Œé•¿åº¦ä¸ºNã€‚
        classes (List): æ¯ä¸ªç‚¹çš„ç±»åˆ«æ ‡ç­¾ï¼Œé•¿åº¦ä¸ºNã€‚
        title (str, optional): å›¾è¡¨æ ‡é¢˜ï¼Œé»˜è®¤ä¸º'Precision Recall Curve'ã€‚
        x_title (str, optional): xè½´æ ‡ç­¾ï¼Œé»˜è®¤ä¸º'Recall'ã€‚
        y_title (str, optional): yè½´æ ‡ç­¾ï¼Œé»˜è®¤ä¸º'Precision'ã€‚

    è¿”å›:
        (wandb.Object): é€‚åˆè®°å½•çš„wandbå¯¹è±¡ï¼Œå±•ç¤ºè‡ªå®šä¹‰çš„åº¦é‡å¯è§†åŒ–ã€‚
    """
    # åˆ›å»ºæ•°æ®æ¡†
    df = pd.DataFrame({'class': classes, 'y': y, 'x': x}).round(3)
    fields = {'x': 'x', 'y': 'y', 'class': 'class'}
    string_fields = {'title': title, 'x-axis-title': x_title, 'y-axis-title': y_title}
    
    # è¿”å›è‡ªå®šä¹‰è¡¨æ ¼
    return wb.plot_table('wandb/area-under-curve/v0',
                         wb.Table(dataframe=df),
                         fields=fields,
                         string_fields=string_fields)

def _plot_curve(x, y, names=None, id='precision-recall', title='Precision Recall Curve', x_title='Recall', y_title='Precision', num_x=100, only_mean=False):
    """
    è®°å½•åº¦é‡æ›²çº¿å¯è§†åŒ–ã€‚

    å‚æ•°:
        x (np.ndarray): xè½´æ•°æ®ç‚¹ï¼Œé•¿åº¦ä¸ºNã€‚
        y (np.ndarray): yè½´æ•°æ®ç‚¹ï¼Œå½¢çŠ¶ä¸ºCxNï¼ŒCä¸ºç±»åˆ«æ•°ã€‚
        names (list, optional): ç±»åˆ«åç§°ï¼Œé•¿åº¦ä¸ºCã€‚
        id (str, optional): è®°å½•æ•°æ®çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œé»˜è®¤ä¸º'precision-recall'ã€‚
        title (str, optional): å¯è§†åŒ–å›¾è¡¨çš„æ ‡é¢˜ï¼Œé»˜è®¤ä¸º'Precision Recall Curve'ã€‚
        x_title (str, optional): xè½´æ ‡ç­¾ï¼Œé»˜è®¤ä¸º'Recall'ã€‚
        y_title (str, optional): yè½´æ ‡ç­¾ï¼Œé»˜è®¤ä¸º'Precision'ã€‚
        num_x (int, optional): å¯è§†åŒ–çš„æ’å€¼æ•°æ®ç‚¹æ•°é‡ï¼Œé»˜è®¤ä¸º100ã€‚
        only_mean (bool, optional): æ˜¯å¦ä»…ç»˜åˆ¶å‡å€¼æ›²çº¿ï¼Œé»˜è®¤ä¸ºTrueã€‚
    """
    # åˆ›å»ºæ–°çš„xå€¼
    if names is None:
        names = []
    x_new = np.linspace(x[0], x[-1], num_x).round(5)

    # åˆ›å»ºç”¨äºè®°å½•çš„æ•°ç»„
    x_log = x_new.tolist()
    y_log = np.interp(x_new, x, np.mean(y, axis=0)).round(3).tolist()

    if only_mean:
        # ä»…è®°å½•å‡å€¼æ›²çº¿
        table = wb.Table(data=list(zip(x_log, y_log)), columns=[x_title, y_title])
        wb.run.log({title: wb.plot.line(table, x_title, y_title, title=title)})
    else:
        # è®°å½•æ¯ä¸ªç±»åˆ«çš„æ›²çº¿
        classes = ['mean'] * len(x_log)
        for i, yi in enumerate(y):
            x_log.extend(x_new)  # æ·»åŠ æ–°çš„xå€¼
            y_log.extend(np.interp(x_new, x, yi))  # å°†yæ’å€¼åˆ°æ–°çš„x
            classes.extend([names[i]] * len(x_new))  # æ·»åŠ ç±»åˆ«åç§°
        wb.log({id: _custom_table(x_log, y_log, classes, title, x_title, y_title)}, commit=False)

def on_fit_epoch_end(trainer):
    """åœ¨æ¯ä¸ªè®­ç»ƒå‘¨æœŸç»“æŸæ—¶è®°å½•è®­ç»ƒæŒ‡æ ‡å’Œæ¨¡å‹ä¿¡æ¯ã€‚"""
    wb.run.log(trainer.metrics, step=trainer.epoch + 1)  # è®°å½•å½“å‰å‘¨æœŸçš„æŒ‡æ ‡
    # è®°å½•å›¾è¡¨
    _log_plots(trainer.plots, step=trainer.epoch + 1)
    _log_plots(trainer.validator.plots, step=trainer.epoch + 1)
    if trainer.epoch == 0:
        wb.run.log(model_info_for_loggers(trainer), step=trainer.epoch + 1)  # è®°å½•æ¨¡å‹ä¿¡æ¯

def on_train_end(trainer):
    """åœ¨è®­ç»ƒç»“æŸæ—¶ä¿å­˜æœ€ä½³æ¨¡å‹ä½œä¸ºartifactã€‚"""
    _log_plots(trainer.validator.plots, step=trainer.epoch + 1)
    _log_plots(trainer.plots, step=trainer.epoch + 1)
    art = wb.Artifact(type='model', name=f'run_{wb.run.id}_model')  # åˆ›å»ºartifact
    if trainer.best.exists():
        art.add_file(trainer.best)  # æ·»åŠ æœ€ä½³æ¨¡å‹æ–‡ä»¶
        wb.run.log_artifact(art, aliases=['best'])  # è®°å½•artifact
    # è®°å½•éªŒè¯æŒ‡æ ‡æ›²çº¿
    for curve_name, curve_values in zip(trainer.validator.metrics.curves, trainer.validator.metrics.curves_results):
        x, y, x_title, y_title = curve_values
        _plot_curve(
            x,
            y,
            names=list(trainer.validator.metrics.names.values()),
            id=f'curves/{curve_name}',
            title=curve_name,
            x_title=x_title,
            y_title=y_title,
        )
    wb.run.finish()  # ç»“æŸwandbè¿è¡Œ
```

### ä»£ç è¯´æ˜ï¼š
1. **å¯¼å…¥åº“**ï¼šå¯¼å…¥å¿…è¦çš„åº“ï¼ŒåŒ…æ‹¬`wandb`ç”¨äºè®°å½•å®éªŒç»“æœï¼Œ`numpy`å’Œ`pandas`ç”¨äºæ•°æ®å¤„ç†ã€‚
2. **å¼‚å¸¸å¤„ç†**ï¼šç¡®ä¿åœ¨å¯¼å…¥`wandb`æ—¶æ²¡æœ‰é”™è¯¯ï¼Œå¹¶ä¸”åœ¨æµ‹è¯•è¿è¡Œæ—¶ä¸è®°å½•æ—¥å¿—ã€‚
3. **è‡ªå®šä¹‰è¡¨æ ¼**ï¼š`_custom_table`å‡½æ•°ç”¨äºåˆ›å»ºç²¾ç¡®åº¦-å¬å›ç‡æ›²çº¿çš„å¯è§†åŒ–ï¼Œå¹¶å°†å…¶è®°å½•åˆ°`wandb`ã€‚
4. **ç»˜åˆ¶æ›²çº¿**ï¼š`_plot_curve`å‡½æ•°æ ¹æ®è¾“å…¥æ•°æ®ç”Ÿæˆåº¦é‡æ›²çº¿ï¼Œå¹¶è®°å½•åˆ°`wandb`ã€‚å¯ä»¥é€‰æ‹©è®°å½•å‡å€¼æ›²çº¿æˆ–æ¯ä¸ªç±»åˆ«çš„æ›²çº¿ã€‚
5. **è®­ç»ƒç»“æŸæ—¶çš„æ“ä½œ**ï¼š`on_fit_epoch_end`å’Œ`on_train_end`å‡½æ•°åœ¨è®­ç»ƒç»“æŸæ—¶è®°å½•æ¨¡å‹çš„æ€§èƒ½æŒ‡æ ‡å’Œæœ€ä½³æ¨¡å‹ã€‚

è¿™äº›æ ¸å¿ƒéƒ¨åˆ†å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨`wandb`è¿›è¡Œæ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­çš„ç›‘æ§å’Œå¯è§†åŒ–ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶æ˜¯ä¸€ä¸ªç”¨äºYOLOv8æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­çš„å›è°ƒå‡½æ•°æ¨¡å—ï¼Œä¸»è¦ç”¨äºä¸Weights & Biasesï¼ˆwandbï¼‰è¿›è¡Œé›†æˆï¼Œä»¥ä¾¿äºè®°å½•å’Œå¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹ä¸­çš„å„ç§æŒ‡æ ‡å’Œå›¾è¡¨ã€‚æ–‡ä»¶ä¸­é¦–å…ˆå¯¼å…¥äº†ä¸€äº›å¿…è¦çš„åº“å’Œæ¨¡å—ï¼ŒåŒ…æ‹¬è®¾ç½®å’Œæµ‹è¯•çŠ¶æ€çš„ç›¸å…³å·¥å…·ï¼Œä»¥åŠwandbåº“ã€‚

åœ¨å°è¯•å¯¼å…¥wandbæ—¶ï¼Œç¨‹åºä¼šè¿›è¡Œä¸€äº›åŸºæœ¬çš„æ£€æŸ¥ï¼Œæ¯”å¦‚ç¡®ä¿å½“å‰ä¸æ˜¯åœ¨è¿è¡Œæµ‹è¯•ï¼ˆTESTS_RUNNINGä¸ºFalseï¼‰ï¼Œå¹¶ä¸”wandbé›†æˆå·²å¯ç”¨ï¼ˆSETTINGS['wandb']ä¸ºTrueï¼‰ã€‚å¦‚æœè¿™äº›æ¡ä»¶ä¸æ»¡è¶³ï¼Œwandbå°†è¢«è®¾ç½®ä¸ºNoneï¼Œåç»­çš„wandbç›¸å…³åŠŸèƒ½å°†æ— æ³•ä½¿ç”¨ã€‚

æ¥ä¸‹æ¥ï¼Œå®šä¹‰äº†å‡ ä¸ªå‡½æ•°ã€‚ç¬¬ä¸€ä¸ªå‡½æ•°`_custom_table`ç”¨äºåˆ›å»ºå¹¶è®°å½•ä¸€ä¸ªè‡ªå®šä¹‰çš„ç²¾ç¡®åº¦-å¬å›æ›²çº¿çš„å¯è§†åŒ–ã€‚å®ƒæ¥å—xè½´å’Œyè½´çš„æ•°æ®ï¼Œä»¥åŠç±»åˆ«æ ‡ç­¾ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªé€‚åˆwandbè®°å½•çš„è¡¨æ ¼å¯¹è±¡ã€‚

ç¬¬äºŒä¸ªå‡½æ•°`_plot_curve`ç”¨äºè®°å½•ä¸€ä¸ªæŒ‡æ ‡æ›²çº¿çš„å¯è§†åŒ–ã€‚å®ƒæ ¹æ®è¾“å…¥çš„æ•°æ®ç”Ÿæˆæ›²çº¿ï¼Œå¹¶å°†å…¶è®°å½•åˆ°wandbä¸­ã€‚è¯¥å‡½æ•°æ”¯æŒè®°å½•æ¯ä¸ªç±»åˆ«çš„æ›²çº¿æˆ–ä»…è®°å½•å¹³å‡æ›²çº¿ï¼Œå…·ä½“å–å†³äº`only_mean`å‚æ•°çš„è®¾ç½®ã€‚

ç¬¬ä¸‰ä¸ªå‡½æ•°`_log_plots`ç”¨äºè®°å½•è¾“å…¥å­—å…¸ä¸­çš„å›¾è¡¨ï¼Œå¦‚æœè¿™äº›å›¾è¡¨åœ¨æŒ‡å®šçš„æ­¥éª¤ä¸­å°šæœªè®°å½•è¿‡ã€‚å®ƒé€šè¿‡æ£€æŸ¥æ—¶é—´æˆ³æ¥é¿å…é‡å¤è®°å½•ã€‚

æ¥ä¸‹æ¥çš„å‡ ä¸ªå‡½æ•°æ˜¯ä¸è®­ç»ƒè¿‡ç¨‹çš„ä¸åŒé˜¶æ®µç›¸å…³çš„å›è°ƒå‡½æ•°ã€‚`on_pretrain_routine_start`åœ¨é¢„è®­ç»ƒä¾‹ç¨‹å¼€å§‹æ—¶åˆå§‹åŒ–wandbé¡¹ç›®ã€‚`on_fit_epoch_end`åœ¨æ¯ä¸ªè®­ç»ƒå‘¨æœŸç»“æŸæ—¶è®°å½•è®­ç»ƒæŒ‡æ ‡å’Œæ¨¡å‹ä¿¡æ¯ã€‚`on_train_epoch_end`åœ¨æ¯ä¸ªè®­ç»ƒå‘¨æœŸç»“æŸæ—¶è®°å½•æŸå¤±å’Œå­¦ä¹ ç‡ï¼Œå¹¶åœ¨ç‰¹å®šæ¡ä»¶ä¸‹è®°å½•å›¾è¡¨ã€‚`on_train_end`åœ¨è®­ç»ƒç»“æŸæ—¶ä¿å­˜æœ€ä½³æ¨¡å‹ï¼Œå¹¶è®°å½•éªŒè¯å™¨çš„å›¾è¡¨å’Œæ›²çº¿ã€‚

æœ€åï¼Œç¨‹åºå°†è¿™äº›å›è°ƒå‡½æ•°ç»„ç»‡æˆä¸€ä¸ªå­—å…¸ï¼Œæ–¹ä¾¿åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è°ƒç”¨ã€‚å¦‚æœwandbæœªæˆåŠŸå¯¼å…¥ï¼Œåˆ™è¯¥å­—å…¸å°†ä¸ºç©ºã€‚è¿™ç§è®¾è®¡ä½¿å¾—ç¨‹åºåœ¨æ²¡æœ‰wandbçš„æƒ…å†µä¸‹ä»ç„¶å¯ä»¥è¿è¡Œï¼Œä½†å¤±å»äº†è®°å½•å’Œå¯è§†åŒ–çš„åŠŸèƒ½ã€‚æ•´ä½“æ¥çœ‹ï¼Œè¿™ä¸ªæ¨¡å—çš„ä¸»è¦ç›®çš„æ˜¯å¢å¼ºYOLOv8æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­çš„å¯è§†åŒ–å’Œç›‘æ§èƒ½åŠ›ã€‚

#### 11.4 code\ultralytics\models\fastsam\model.py

ä»¥ä¸‹æ˜¯ä»£ç ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
from pathlib import Path
from ultralytics.engine.model import Model
from .predict import FastSAMPredictor
from .val import FastSAMValidator

class FastSAM(Model):
    """
    FastSAMæ¨¡å‹æ¥å£ã€‚

    ç¤ºä¾‹ï¼š
        ```python
        from ultralytics import FastSAM

        model = FastSAM('last.pt')  # åŠ è½½æ¨¡å‹
        results = model.predict('ultralytics/assets/bus.jpg')  # è¿›è¡Œé¢„æµ‹
        ```
    """

    def __init__(self, model="FastSAM-x.pt"):
        """åˆå§‹åŒ–FastSAMç±»ï¼Œè°ƒç”¨çˆ¶ç±»ï¼ˆYOLOï¼‰çš„__init__æ–¹æ³•ï¼Œå¹¶è®¾ç½®é»˜è®¤æ¨¡å‹ã€‚"""
        # å¦‚æœä¼ å…¥çš„æ¨¡å‹åæ˜¯"FastSAM.pt"ï¼Œåˆ™å°†å…¶æ›¿æ¢ä¸º"FastSAM-x.pt"
        if str(model) == "FastSAM.pt":
            model = "FastSAM-x.pt"
        # ç¡®ä¿æ¨¡å‹æ–‡ä»¶çš„åç¼€ä¸æ˜¯.yamlæˆ–.ymlï¼ŒFastSAMæ¨¡å‹åªæ”¯æŒé¢„è®­ç»ƒæ¨¡å‹
        assert Path(model).suffix not in (".yaml", ".yml"), "FastSAMæ¨¡å‹ä»…æ”¯æŒé¢„è®­ç»ƒæ¨¡å‹ã€‚"
        # è°ƒç”¨çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œè®¾ç½®æ¨¡å‹å’Œä»»åŠ¡ç±»å‹ä¸º"segment"
        super().__init__(model=model, task="segment")

    @property
    def task_map(self):
        """è¿”å›ä¸€ä¸ªå­—å…¸ï¼Œå°†åˆ†å‰²ä»»åŠ¡æ˜ å°„åˆ°ç›¸åº”çš„é¢„æµ‹å™¨å’ŒéªŒè¯å™¨ç±»ã€‚"""
        return {"segment": {"predictor": FastSAMPredictor, "validator": FastSAMValidator}}
```

### ä»£ç æ ¸å¿ƒéƒ¨åˆ†è§£é‡Šï¼š
1. **å¯¼å…¥æ¨¡å—**ï¼šå¯¼å…¥å¿…è¦çš„æ¨¡å—å’Œç±»ï¼ŒåŒ…æ‹¬è·¯å¾„å¤„ç†å’ŒYOLOæ¨¡å‹çš„åŸºç±»ã€‚
2. **FastSAMç±»**ï¼šå®šä¹‰äº†ä¸€ä¸ªåä¸º`FastSAM`çš„ç±»ï¼Œç»§æ‰¿è‡ª`Model`ç±»ï¼Œè¡¨ç¤ºFastSAMæ¨¡å‹çš„æ¥å£ã€‚
3. **åˆå§‹åŒ–æ–¹æ³•**ï¼š
   - å…è®¸ç”¨æˆ·æŒ‡å®šæ¨¡å‹æ–‡ä»¶ï¼Œé»˜è®¤ä½¿ç”¨`FastSAM-x.pt`ã€‚
   - å¯¹äºä¸æ”¯æŒçš„æ¨¡å‹æ–‡ä»¶ç±»å‹è¿›è¡Œæ£€æŸ¥ã€‚
   - è°ƒç”¨çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•ä»¥å®Œæˆæ¨¡å‹çš„è®¾ç½®ã€‚
4. **ä»»åŠ¡æ˜ å°„å±æ€§**ï¼šæä¾›ä¸€ä¸ªæ˜ å°„ï¼ŒæŒ‡æ˜åˆ†å‰²ä»»åŠ¡ä½¿ç”¨çš„é¢„æµ‹å™¨å’ŒéªŒè¯å™¨ç±»ï¼Œä¾¿äºåç»­è°ƒç”¨å’Œç®¡ç†ã€‚

è¯¥ç¨‹åºæ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ªåä¸º `FastSAM` çš„ç±»ï¼Œç»§æ‰¿è‡ª `Model` ç±»ï¼Œä¸»è¦ç”¨äºå®ç° FastSAM æ¨¡å‹çš„æ¥å£ã€‚æ–‡ä»¶å¼€å¤´åŒ…å«äº†ç‰ˆæƒä¿¡æ¯ï¼Œè¡¨æ˜è¯¥ä»£ç éµå¾ª AGPL-3.0 è®¸å¯è¯ã€‚

åœ¨ç±»çš„æ–‡æ¡£å­—ç¬¦ä¸²ä¸­ï¼Œæä¾›äº†ä¸€ä¸ªä½¿ç”¨ç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•å¯¼å…¥ `FastSAM` ç±»å¹¶å®ä¾‹åŒ–ä¸€ä¸ªæ¨¡å‹å¯¹è±¡ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡ä¼ å…¥æ¨¡å‹æ–‡ä»¶ï¼ˆå¦‚ `last.pt`ï¼‰æ¥åˆ›å»ºæ¨¡å‹å®ä¾‹ï¼Œå¹¶ä½¿ç”¨ `predict` æ–¹æ³•å¯¹æŒ‡å®šçš„å›¾åƒï¼ˆå¦‚ `ultralytics/assets/bus.jpg`ï¼‰è¿›è¡Œé¢„æµ‹ã€‚

æ„é€ å‡½æ•° `__init__` æ¥å—ä¸€ä¸ªå‚æ•° `model`ï¼Œé»˜è®¤å€¼ä¸º `"FastSAM-x.pt"`ã€‚åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œå¦‚æœä¼ å…¥çš„æ¨¡å‹åç§°æ˜¯ `"FastSAM.pt"`ï¼Œåˆ™å°†å…¶æ›¿æ¢ä¸º `"FastSAM-x.pt"`ã€‚æ¥ç€ï¼Œä½¿ç”¨ `assert` è¯­å¥ç¡®ä¿ä¼ å…¥çš„æ¨¡å‹æ–‡ä»¶ååç¼€ä¸æ˜¯ `.yaml` æˆ– `.yml`ï¼Œå› ä¸º FastSAM æ¨¡å‹åªæ”¯æŒé¢„è®­ç»ƒæ¨¡å‹ã€‚æœ€åï¼Œè°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•° `super().__init__`ï¼Œå¹¶æŒ‡å®šä»»åŠ¡ç±»å‹ä¸º `"segment"`ã€‚

`task_map` å±æ€§è¿”å›ä¸€ä¸ªå­—å…¸ï¼Œæ˜ å°„äº†åˆ†å‰²ä»»åŠ¡åˆ°ç›¸åº”çš„é¢„æµ‹å™¨å’ŒéªŒè¯å™¨ç±»ã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒå°† `"segment"` ä»»åŠ¡æ˜ å°„åˆ° `FastSAMPredictor` å’Œ `FastSAMValidator` ç±»ï¼Œæ–¹ä¾¿åœ¨æ¨¡å‹è¿è¡Œæ—¶ä½¿ç”¨ç›¸åº”çš„ç»„ä»¶è¿›è¡Œé¢„æµ‹å’ŒéªŒè¯ã€‚

æ•´ä½“æ¥çœ‹ï¼Œè¯¥æ–‡ä»¶çš„ä¸»è¦åŠŸèƒ½æ˜¯å®šä¹‰ FastSAM æ¨¡å‹çš„åŸºæœ¬ç»“æ„å’Œæ¥å£ï¼Œä¾¿äºç”¨æˆ·è¿›è¡Œå›¾åƒåˆ†å‰²ä»»åŠ¡çš„é¢„æµ‹å’ŒéªŒè¯ã€‚

#### 11.5 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\models\fastsam\prompt.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å’Œæ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼š

```python
import os
import numpy as np
import torch
from PIL import Image
import cv2
from ultralytics.utils import TQDM

class FastSAMPrompt:
    """
    Fast Segment Anything Model ç±»ï¼Œç”¨äºå›¾åƒæ ‡æ³¨å’Œå¯è§†åŒ–ã€‚
    """

    def __init__(self, source, results, device='cuda') -> None:
        """åˆå§‹åŒ– FastSAMPromptï¼Œè®¾ç½®æºå›¾åƒã€ç»“æœå’Œè®¡ç®—è®¾å¤‡ã€‚"""
        self.device = device  # è®¡ç®—è®¾å¤‡
        self.results = results  # æ£€æµ‹æˆ–åˆ†å‰²ç»“æœ
        self.source = source  # æºå›¾åƒæˆ–å›¾åƒè·¯å¾„

        # å¯¼å…¥ CLIP æ¨¡å‹
        try:
            import clip  # ç”¨äºçº¿æ€§åˆ†é…
        except ImportError:
            from ultralytics.utils.checks import check_requirements
            check_requirements('git+https://github.com/openai/CLIP.git')
            import clip
        self.clip = clip  # èµ‹å€¼ CLIP æ¨¡å‹

    @staticmethod
    def _segment_image(image, bbox):
        """æ ¹æ®æä¾›çš„è¾¹ç•Œæ¡†åæ ‡å¯¹å›¾åƒè¿›è¡Œåˆ†å‰²ã€‚"""
        image_array = np.array(image)  # å°†å›¾åƒè½¬æ¢ä¸ºæ•°ç»„
        segmented_image_array = np.zeros_like(image_array)  # åˆ›å»ºä¸åŸå›¾åƒç›¸åŒå¤§å°çš„å…¨é›¶æ•°ç»„
        x1, y1, x2, y2 = bbox  # è§£åŒ…è¾¹ç•Œæ¡†åæ ‡
        segmented_image_array[y1:y2, x1:x2] = image_array[y1:y2, x1:x2]  # å¤åˆ¶åˆ†å‰²åŒºåŸŸ
        segmented_image = Image.fromarray(segmented_image_array)  # è½¬æ¢ä¸ºå›¾åƒ
        black_image = Image.new('RGB', image.size, (255, 255, 255))  # åˆ›å»ºç™½è‰²èƒŒæ™¯å›¾åƒ
        transparency_mask = np.zeros((image_array.shape[0], image_array.shape[1]), dtype=np.uint8)  # åˆ›å»ºé€æ˜åº¦æ©ç 
        transparency_mask[y1:y2, x1:x2] = 255  # è®¾ç½®åˆ†å‰²åŒºåŸŸä¸ºä¸é€æ˜
        transparency_mask_image = Image.fromarray(transparency_mask, mode='L')  # è½¬æ¢ä¸ºå›¾åƒ
        black_image.paste(segmented_image, mask=transparency_mask_image)  # å°†åˆ†å‰²å›¾åƒç²˜è´´åˆ°èƒŒæ™¯ä¸Š
        return black_image  # è¿”å›å¸¦æœ‰åˆ†å‰²åŒºåŸŸçš„å›¾åƒ

    @staticmethod
    def _format_results(result, filter=0):
        """å°†æ£€æµ‹ç»“æœæ ¼å¼åŒ–ä¸ºåŒ…å« IDã€åˆ†å‰²ã€è¾¹ç•Œæ¡†ã€åˆ†æ•°å’Œé¢ç§¯çš„æ³¨é‡Šåˆ—è¡¨ã€‚"""
        annotations = []
        n = len(result.masks.data) if result.masks is not None else 0  # è·å–æ©ç æ•°é‡
        for i in range(n):
            mask = result.masks.data[i] == 1.0  # è·å–å½“å‰æ©ç 
            if torch.sum(mask) >= filter:  # æ ¹æ®è¿‡æ»¤æ¡ä»¶æ·»åŠ æ³¨é‡Š
                annotation = {
                    'id': i,
                    'segmentation': mask.cpu().numpy(),
                    'bbox': result.boxes.data[i],
                    'score': result.boxes.conf[i]
                }
                annotation['area'] = annotation['segmentation'].sum()  # è®¡ç®—é¢ç§¯
                annotations.append(annotation)  # æ·»åŠ åˆ°æ³¨é‡Šåˆ—è¡¨
        return annotations  # è¿”å›æ³¨é‡Šåˆ—è¡¨

    def plot(self, annotations, output):
        """
        åœ¨å›¾åƒä¸Šç»˜åˆ¶æ³¨é‡Šã€è¾¹ç•Œæ¡†å’Œç‚¹ï¼Œå¹¶ä¿å­˜è¾“å‡ºã€‚
        """
        pbar = TQDM(annotations, total=len(annotations))  # è¿›åº¦æ¡
        for ann in pbar:
            result_name = os.path.basename(ann.path)  # è·å–ç»“æœåç§°
            image = ann.orig_img[..., ::-1]  # BGR è½¬ RGB
            plt.figure(figsize=(image.shape[1] / 100, image.shape[0] / 100))  # è®¾ç½®å›¾åƒå¤§å°
            plt.imshow(image)  # æ˜¾ç¤ºå›¾åƒ

            if ann.masks is not None:  # å¦‚æœå­˜åœ¨æ©ç 
                masks = ann.masks.data  # è·å–æ©ç æ•°æ®
                # å¤„ç†å’Œç»˜åˆ¶æ©ç 
                self.fast_show_mask(masks, plt.gca())  # å¿«é€Ÿæ˜¾ç¤ºæ©ç 

            # ä¿å­˜å›¾åƒ
            save_path = Path(output) / result_name
            plt.axis('off')  # å…³é—­åæ ‡è½´
            plt.savefig(save_path, bbox_inches='tight', pad_inches=0, transparent=True)  # ä¿å­˜å›¾åƒ
            plt.close()  # å…³é—­å›¾åƒ
            pbar.set_description(f'Saving {result_name} to {save_path}')  # æ›´æ–°è¿›åº¦æ¡æè¿°

    @staticmethod
    def fast_show_mask(annotation, ax):
        """
        åœ¨ç»™å®šçš„ matplotlib è½´ä¸Šå¿«é€Ÿæ˜¾ç¤ºæ©ç æ³¨é‡Šã€‚
        """
        n, h, w = annotation.shape  # è·å–æ©ç æ•°é‡ã€é«˜åº¦å’Œå®½åº¦
        areas = np.sum(annotation, axis=(1, 2))  # è®¡ç®—æ¯ä¸ªæ©ç çš„é¢ç§¯
        annotation = annotation[np.argsort(areas)]  # æŒ‰é¢ç§¯æ’åº

        # åˆ›å»ºæ˜¾ç¤ºå›¾åƒ
        show = np.zeros((h, w, 4))  # åˆå§‹åŒ–æ˜¾ç¤ºå›¾åƒ
        for i in range(n):
            mask = annotation[i]  # è·å–å½“å‰æ©ç 
            show[..., :3] += mask[..., np.newaxis]  # å°†æ©ç å åŠ åˆ°æ˜¾ç¤ºå›¾åƒä¸Š

        ax.imshow(show)  # æ˜¾ç¤ºæœ€ç»ˆå›¾åƒ

    @torch.no_grad()
    def retrieve(self, model, preprocess, elements, search_text: str, device) -> int:
        """å¤„ç†å›¾åƒå’Œæ–‡æœ¬ï¼Œè®¡ç®—ç›¸ä¼¼åº¦å¹¶è¿”å› softmax åˆ†æ•°ã€‚"""
        preprocessed_images = [preprocess(image).to(device) for image in elements]  # é¢„å¤„ç†å›¾åƒ
        tokenized_text = self.clip.tokenize([search_text]).to(device)  # å¤„ç†æ–‡æœ¬
        stacked_images = torch.stack(preprocessed_images)  # å †å å›¾åƒ
        image_features = model.encode_image(stacked_images)  # ç¼–ç å›¾åƒç‰¹å¾
        text_features = model.encode_text(tokenized_text)  # ç¼–ç æ–‡æœ¬ç‰¹å¾
        image_features /= image_features.norm(dim=-1, keepdim=True)  # å½’ä¸€åŒ–å›¾åƒç‰¹å¾
        text_features /= text_features.norm(dim=-1, keepdim=True)  # å½’ä¸€åŒ–æ–‡æœ¬ç‰¹å¾
        probs = 100.0 * image_features @ text_features.T  # è®¡ç®—ç›¸ä¼¼åº¦
        return probs[:, 0].softmax(dim=0)  # è¿”å› softmax åˆ†æ•°
```

### ä»£ç è¯´æ˜
1. **ç±» `FastSAMPrompt`**: è¯¥ç±»ç”¨äºå›¾åƒåˆ†å‰²å’Œæ ‡æ³¨ï¼ŒåŒ…å«åˆå§‹åŒ–ã€å›¾åƒåˆ†å‰²ã€ç»“æœæ ¼å¼åŒ–ã€ç»˜å›¾ç­‰æ–¹æ³•ã€‚
2. **`__init__` æ–¹æ³•**: åˆå§‹åŒ–ç±»çš„å®ä¾‹ï¼Œè®¾ç½®è®¾å¤‡å’ŒåŠ è½½ CLIP æ¨¡å‹ã€‚
3. **`_segment_image` æ–¹æ³•**: æ ¹æ®ç»™å®šçš„è¾¹ç•Œæ¡†å¯¹å›¾åƒè¿›è¡Œåˆ†å‰²ï¼Œè¿”å›åˆ†å‰²åçš„å›¾åƒã€‚
4. **`_format_results` æ–¹æ³•**: æ ¼å¼åŒ–æ£€æµ‹ç»“æœï¼Œè¿”å›åŒ…å« IDã€åˆ†å‰²ã€è¾¹ç•Œæ¡†å’Œåˆ†æ•°çš„æ³¨é‡Šåˆ—è¡¨ã€‚
5. **`plot` æ–¹æ³•**: åœ¨å›¾åƒä¸Šç»˜åˆ¶æ³¨é‡Šå¹¶ä¿å­˜ç»“æœã€‚
6. **`fast_show_mask` æ–¹æ³•**: å¿«é€Ÿæ˜¾ç¤ºæ©ç æ³¨é‡Šã€‚
7. **`retrieve` æ–¹æ³•**: å¤„ç†å›¾åƒå’Œæ–‡æœ¬ï¼Œè®¡ç®—ç›¸ä¼¼åº¦å¹¶è¿”å› softmax åˆ†æ•°ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶æ˜¯ä¸€ä¸ªç”¨äºå›¾åƒæ³¨é‡Šå’Œå¯è§†åŒ–çš„ç±»ï¼Œåä¸º `FastSAMPrompt`ï¼Œå®ƒæ˜¯ Ultralytics YOLO ç³»åˆ—ä¸­çš„ä¸€éƒ¨åˆ†ã€‚è¯¥ç±»ä¸»è¦ç”¨äºå¤„ç†å›¾åƒåˆ†å‰²ä»»åŠ¡ï¼Œç»“åˆäº† CLIP æ¨¡å‹è¿›è¡Œå›¾åƒå’Œæ–‡æœ¬çš„ç›¸ä¼¼æ€§è®¡ç®—ã€‚æ–‡ä»¶ä¸­åŒ…å«å¤šä¸ªæ–¹æ³•ï¼Œä¸‹é¢å¯¹å…¶è¿›è¡Œé€ä¸€è¯´æ˜ã€‚

åœ¨åˆå§‹åŒ–æ–¹æ³• `__init__` ä¸­ï¼Œç±»æ¥å—æºå›¾åƒã€æ£€æµ‹ç»“æœå’Œè®¡ç®—è®¾å¤‡ï¼ˆå¦‚ CUDA æˆ– CPUï¼‰ä½œä¸ºå‚æ•°ï¼Œå¹¶å°è¯•å¯¼å…¥ CLIP æ¨¡å‹ã€‚å¦‚æœ CLIP æ¨¡å‹æœªå®‰è£…ï¼Œåˆ™ä¼šè‡ªåŠ¨æ£€æŸ¥å¹¶å®‰è£…æ‰€éœ€çš„ä¾èµ–ã€‚

`_segment_image` æ–¹æ³•æ ¹æ®ç»™å®šçš„è¾¹ç•Œæ¡†ï¼ˆbounding boxï¼‰å¯¹å›¾åƒè¿›è¡Œåˆ†å‰²ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å›¾åƒï¼Œå…¶ä¸­åªä¿ç•™äº†æŒ‡å®šåŒºåŸŸçš„å†…å®¹ã€‚è¿™ä¸ªæ–¹æ³•é€šè¿‡åˆ›å»ºä¸€ä¸ªé€æ˜çš„æ©è†œæ¥å®ç°ã€‚

`_format_results` æ–¹æ³•å°†æ£€æµ‹ç»“æœæ ¼å¼åŒ–ä¸ºåŒ…å« IDã€åˆ†å‰²æ©è†œã€è¾¹ç•Œæ¡†ã€ç½®ä¿¡åº¦å’Œé¢ç§¯çš„æ³¨é‡Šåˆ—è¡¨ã€‚å®ƒé€šè¿‡éå†ç»“æœä¸­çš„æ©è†œæ•°æ®ï¼Œç­›é€‰å‡ºæ»¡è¶³æ¡ä»¶çš„æ³¨é‡Šã€‚

`_get_bbox_from_mask` æ–¹æ³•é€šè¿‡å¯¹æ©è†œåº”ç”¨å½¢æ€å­¦å˜æ¢ï¼Œè®¡ç®—å‡ºæ©è†œçš„è¾¹ç•Œæ¡†åæ ‡ã€‚

`plot` æ–¹æ³•ç”¨äºåœ¨å›¾åƒä¸Šç»˜åˆ¶æ³¨é‡Šã€è¾¹ç•Œæ¡†å’Œç‚¹ï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ°æŒ‡å®šçš„è¾“å‡ºç›®å½•ã€‚å®ƒä½¿ç”¨ Matplotlib è¿›è¡Œå¯è§†åŒ–ï¼Œå¹¶æ”¯æŒå¤šç§å‚æ•°è®¾ç½®ï¼Œå¦‚æ˜¯å¦ä½¿ç”¨éšæœºé¢œè‰²ã€æ˜¯å¦ç»˜åˆ¶è½®å»“ç­‰ã€‚

`fast_show_mask` æ–¹æ³•åœ¨ç»™å®šçš„ Matplotlib è½´ä¸Šå¿«é€Ÿæ˜¾ç¤ºæ©è†œæ³¨é‡Šï¼Œæ”¯æŒè®¾ç½®è¾¹ç•Œæ¡†å’Œç‚¹çš„ç»˜åˆ¶ã€‚

`retrieve` æ–¹æ³•ä½¿ç”¨ CLIP æ¨¡å‹å¤„ç†å›¾åƒå’Œæ–‡æœ¬ï¼Œè®¡ç®—å®ƒä»¬ä¹‹é—´çš„ç›¸ä¼¼æ€§ï¼Œå¹¶è¿”å› softmax åˆ†æ•°ã€‚

`_crop_image` æ–¹æ³•æ ¹æ®æä¾›çš„æ³¨é‡Šæ ¼å¼è£å‰ªå›¾åƒï¼Œå¹¶è¿”å›è£å‰ªåçš„å›¾åƒåŠç›¸å…³æ•°æ®ã€‚

`box_prompt` æ–¹æ³•æ ¹æ®ç”¨æˆ·æä¾›çš„è¾¹ç•Œæ¡†è°ƒæ•´æ©è†œå±æ€§ï¼Œå¹¶è®¡ç®—æ©è†œä¸è¾¹ç•Œæ¡†ä¹‹é—´çš„äº¤å¹¶æ¯”ï¼ˆIoUï¼‰ã€‚

`point_prompt` æ–¹æ³•æ ¹æ®ç”¨æˆ·è¾“å…¥çš„ç‚¹å’Œæ ‡ç­¾è°ƒæ•´æ£€æµ‹åˆ°çš„æ©è†œï¼Œå¹¶è¿”å›ä¿®æ”¹åçš„ç»“æœã€‚

`text_prompt` æ–¹æ³•å¤„ç†æ–‡æœ¬æç¤ºï¼Œå°†å…¶åº”ç”¨äºç°æœ‰ç»“æœï¼Œå¹¶è¿”å›æ›´æ–°åçš„ç»“æœã€‚

æœ€åï¼Œ`everything_prompt` æ–¹æ³•è¿”å›ç±»ä¸­å¤„ç†åçš„ç»“æœã€‚

æ•´ä½“è€Œè¨€ï¼Œè¿™ä¸ªç±»ä¸ºå›¾åƒåˆ†å‰²å’Œæ³¨é‡Šæä¾›äº†ä¸€æ•´å¥—åŠŸèƒ½ï¼Œç»“åˆäº†æ·±åº¦å­¦ä¹ æ¨¡å‹å’Œå›¾åƒå¤„ç†æŠ€æœ¯ï¼Œé€‚ç”¨äºéœ€è¦è¿›è¡Œå›¾åƒåˆ†æå’Œå¯è§†åŒ–çš„åº”ç”¨åœºæ™¯ã€‚

#### 11.6 train.py

ä»¥ä¸‹æ˜¯ä»£ç ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
class DetectionTrainer(BaseTrainer):
    """
    DetectionTrainerç±»æ‰©å±•äº†BaseTrainerç±»ï¼Œç”¨äºåŸºäºæ£€æµ‹æ¨¡å‹çš„è®­ç»ƒã€‚
    """

    def build_dataset(self, img_path, mode="train", batch=None):
        """
        æ„å»ºYOLOæ•°æ®é›†ã€‚

        å‚æ•°:
            img_path (str): åŒ…å«å›¾åƒçš„æ–‡ä»¶å¤¹è·¯å¾„ã€‚
            mode (str): æ¨¡å¼ï¼Œ`train`è¡¨ç¤ºè®­ç»ƒæ¨¡å¼ï¼Œ`val`è¡¨ç¤ºéªŒè¯æ¨¡å¼ï¼Œç”¨æˆ·å¯ä»¥ä¸ºæ¯ç§æ¨¡å¼è‡ªå®šä¹‰ä¸åŒçš„å¢å¼ºã€‚
            batch (int, optional): æ‰¹æ¬¡å¤§å°ï¼Œä»…ç”¨äº`rect`æ¨¡å¼ã€‚é»˜è®¤ä¸ºNoneã€‚
        """
        gs = max(int(de_parallel(self.model).stride.max() if self.model else 0), 32)
        return build_yolo_dataset(self.args, img_path, batch, self.data, mode=mode, rect=mode == "val", stride=gs)

    def get_dataloader(self, dataset_path, batch_size=16, rank=0, mode="train"):
        """æ„é€ å¹¶è¿”å›æ•°æ®åŠ è½½å™¨ã€‚"""
        assert mode in ["train", "val"]  # ç¡®ä¿æ¨¡å¼æ˜¯è®­ç»ƒæˆ–éªŒè¯
        with torch_distributed_zero_first(rank):  # åœ¨åˆ†å¸ƒå¼æ•°æ®å¹¶è¡Œä¸­ï¼Œä»…åˆå§‹åŒ–æ•°æ®é›†ä¸€æ¬¡
            dataset = self.build_dataset(dataset_path, mode, batch_size)  # æ„å»ºæ•°æ®é›†
        shuffle = mode == "train"  # è®­ç»ƒæ¨¡å¼ä¸‹æ‰“ä¹±æ•°æ®
        if getattr(dataset, "rect", False) and shuffle:
            LOGGER.warning("WARNING âš ï¸ 'rect=True'ä¸DataLoaderçš„shuffleä¸å…¼å®¹ï¼Œè®¾ç½®shuffle=False")
            shuffle = False
        workers = self.args.workers if mode == "train" else self.args.workers * 2  # è®¾ç½®å·¥ä½œçº¿ç¨‹æ•°
        return build_dataloader(dataset, batch_size, workers, shuffle, rank)  # è¿”å›æ•°æ®åŠ è½½å™¨

    def preprocess_batch(self, batch):
        """å¯¹ä¸€æ‰¹å›¾åƒè¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬ç¼©æ”¾å’Œè½¬æ¢ä¸ºæµ®ç‚¹æ•°ã€‚"""
        batch["img"] = batch["img"].to(self.device, non_blocking=True).float() / 255  # å°†å›¾åƒè½¬ç§»åˆ°è®¾å¤‡å¹¶å½’ä¸€åŒ–
        if self.args.multi_scale:  # å¦‚æœå¯ç”¨å¤šå°ºåº¦
            imgs = batch["img"]
            sz = (
                random.randrange(self.args.imgsz * 0.5, self.args.imgsz * 1.5 + self.stride)
                // self.stride
                * self.stride
            )  # éšæœºé€‰æ‹©ä¸€ä¸ªæ–°çš„å°ºå¯¸
            sf = sz / max(imgs.shape[2:])  # è®¡ç®—ç¼©æ”¾å› å­
            if sf != 1:  # å¦‚æœç¼©æ”¾å› å­ä¸ä¸º1
                ns = [
                    math.ceil(x * sf / self.stride) * self.stride for x in imgs.shape[2:]
                ]  # è®¡ç®—æ–°çš„å½¢çŠ¶
                imgs = nn.functional.interpolate(imgs, size=ns, mode="bilinear", align_corners=False)  # è¿›è¡Œæ’å€¼ç¼©æ”¾
            batch["img"] = imgs  # æ›´æ–°æ‰¹æ¬¡ä¸­çš„å›¾åƒ
        return batch

    def get_model(self, cfg=None, weights=None, verbose=True):
        """è¿”å›ä¸€ä¸ªYOLOæ£€æµ‹æ¨¡å‹ã€‚"""
        model = DetectionModel(cfg, nc=self.data["nc"], verbose=verbose and RANK == -1)  # åˆ›å»ºæ£€æµ‹æ¨¡å‹
        if weights:
            model.load(weights)  # åŠ è½½æƒé‡
        return model

    def get_validator(self):
        """è¿”å›ç”¨äºYOLOæ¨¡å‹éªŒè¯çš„DetectionValidatorã€‚"""
        self.loss_names = "box_loss", "cls_loss", "dfl_loss"  # å®šä¹‰æŸå¤±åç§°
        return yolo.detect.DetectionValidator(
            self.test_loader, save_dir=self.save_dir, args=copy(self.args), _callbacks=self.callbacks
        )  # è¿”å›éªŒè¯å™¨

    def plot_training_samples(self, batch, ni):
        """ç»˜åˆ¶å¸¦æœ‰æ³¨é‡Šçš„è®­ç»ƒæ ·æœ¬ã€‚"""
        plot_images(
            images=batch["img"],
            batch_idx=batch["batch_idx"],
            cls=batch["cls"].squeeze(-1),
            bboxes=batch["bboxes"],
            paths=batch["im_file"],
            fname=self.save_dir / f"train_batch{ni}.jpg",
            on_plot=self.on_plot,
        )
```

### ä»£ç æ ¸å¿ƒéƒ¨åˆ†è¯´æ˜ï¼š
1. **DetectionTrainerç±»**ï¼šè¿™æ˜¯ä¸€ä¸ªç”¨äºè®­ç»ƒYOLOæ£€æµ‹æ¨¡å‹çš„ç±»ï¼Œç»§æ‰¿è‡ªBaseTrainerã€‚
2. **build_datasetæ–¹æ³•**ï¼šæ„å»ºYOLOæ•°æ®é›†ï¼Œå¤„ç†å›¾åƒè·¯å¾„å’Œå¢å¼ºæ–¹å¼ã€‚
3. **get_dataloaderæ–¹æ³•**ï¼šæ„é€ æ•°æ®åŠ è½½å™¨ï¼Œç¡®ä¿åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸­åªåˆå§‹åŒ–ä¸€æ¬¡æ•°æ®é›†ã€‚
4. **preprocess_batchæ–¹æ³•**ï¼šå¯¹å›¾åƒæ‰¹æ¬¡è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬å½’ä¸€åŒ–å’Œç¼©æ”¾ã€‚
5. **get_modelæ–¹æ³•**ï¼šè¿”å›YOLOæ£€æµ‹æ¨¡å‹ï¼Œå¹¶å¯é€‰æ‹©åŠ è½½é¢„è®­ç»ƒæƒé‡ã€‚
6. **get_validatoræ–¹æ³•**ï¼šè¿”å›ç”¨äºæ¨¡å‹éªŒè¯çš„æ£€æµ‹éªŒè¯å™¨ã€‚
7. **plot_training_samplesæ–¹æ³•**ï¼šç»˜åˆ¶è®­ç»ƒæ ·æœ¬åŠå…¶æ³¨é‡Šï¼Œä¾¿äºå¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶ `train.py` æ˜¯ä¸€ä¸ªç”¨äºè®­ç»ƒç›®æ ‡æ£€æµ‹æ¨¡å‹çš„è„šæœ¬ï¼Œä¸»è¦åŸºäº YOLOï¼ˆYou Only Look Onceï¼‰æ¶æ„ã€‚å®ƒç»§æ‰¿è‡ª `BaseTrainer` ç±»ï¼Œæä¾›äº†ä¸€ç³»åˆ—æ–¹æ³•æ¥æ„å»ºæ•°æ®é›†ã€è·å–æ•°æ®åŠ è½½å™¨ã€é¢„å¤„ç†å›¾åƒã€è®¾ç½®æ¨¡å‹å±æ€§ã€è·å–æ¨¡å‹ã€éªŒè¯æ¨¡å‹ã€è®°å½•æŸå¤±ã€æ˜¾ç¤ºè®­ç»ƒè¿›åº¦ã€ç»˜åˆ¶è®­ç»ƒæ ·æœ¬å’Œç»˜åˆ¶è®­ç»ƒæŒ‡æ ‡ç­‰åŠŸèƒ½ã€‚

é¦–å…ˆï¼Œ`DetectionTrainer` ç±»å®šä¹‰äº†ä¸€ä¸ªç”¨äºè®­ç»ƒæ£€æµ‹æ¨¡å‹çš„æ¡†æ¶ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡ä¼ å…¥æ¨¡å‹é…ç½®ã€æ•°æ®é›†è·¯å¾„å’Œè®­ç»ƒå‘¨æœŸç­‰å‚æ•°æ¥å®ä¾‹åŒ–è¿™ä¸ªç±»å¹¶è°ƒç”¨ `train()` æ–¹æ³•å¼€å§‹è®­ç»ƒã€‚

åœ¨ `build_dataset` æ–¹æ³•ä¸­ï¼Œç¨‹åºæ ¹æ®ä¼ å…¥çš„å›¾åƒè·¯å¾„å’Œæ¨¡å¼ï¼ˆè®­ç»ƒæˆ–éªŒè¯ï¼‰æ„å»º YOLO æ•°æ®é›†ã€‚å®ƒä½¿ç”¨ `build_yolo_dataset` å‡½æ•°æ¥åˆ›å»ºæ•°æ®é›†ï¼Œå¹¶æ”¯æŒä¸åŒçš„å¢å¼ºæ–¹å¼ã€‚

`get_dataloader` æ–¹æ³•åˆ™è´Ÿè´£æ„å»ºå¹¶è¿”å›æ•°æ®åŠ è½½å™¨ã€‚å®ƒæ ¹æ®è®­ç»ƒæˆ–éªŒè¯æ¨¡å¼çš„ä¸åŒï¼Œè®¾ç½®æ˜¯å¦æ‰“ä¹±æ•°æ®çš„é¡ºåºï¼Œå¹¶è°ƒæ•´å·¥ä½œçº¿ç¨‹çš„æ•°é‡ã€‚ä¸ºäº†æ”¯æŒåˆ†å¸ƒå¼è®­ç»ƒï¼Œå®ƒè¿˜ä½¿ç”¨äº† `torch_distributed_zero_first` æ¥ç¡®ä¿æ•°æ®é›†çš„åˆå§‹åŒ–åªè¿›è¡Œä¸€æ¬¡ã€‚

åœ¨ `preprocess_batch` æ–¹æ³•ä¸­ï¼Œç¨‹åºå¯¹è¾“å…¥çš„å›¾åƒæ‰¹æ¬¡è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬å°†å›¾åƒç¼©æ”¾åˆ°åˆé€‚çš„å¤§å°å¹¶è½¬æ¢ä¸ºæµ®ç‚¹æ•°æ ¼å¼ã€‚å®ƒè¿˜æ”¯æŒå¤šå°ºåº¦è®­ç»ƒï¼Œé€šè¿‡éšæœºé€‰æ‹©å›¾åƒå¤§å°æ¥å¢å¼ºæ¨¡å‹çš„é²æ£’æ€§ã€‚

`set_model_attributes` æ–¹æ³•ç”¨äºè®¾ç½®æ¨¡å‹çš„å±æ€§ï¼ŒåŒ…æ‹¬ç±»åˆ«æ•°é‡å’Œç±»åˆ«åç§°ç­‰ã€‚è¿™äº›å±æ€§ä¼šåœ¨æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­è¢«ä½¿ç”¨ã€‚

`get_model` æ–¹æ³•è¿”å›ä¸€ä¸ª YOLO æ£€æµ‹æ¨¡å‹çš„å®ä¾‹ï¼Œæ”¯æŒåŠ è½½é¢„è®­ç»ƒæƒé‡ã€‚

`get_validator` æ–¹æ³•è¿”å›ä¸€ä¸ªç”¨äºéªŒè¯æ¨¡å‹æ€§èƒ½çš„éªŒè¯å™¨ï¼Œå®ƒä¼šè®¡ç®—æŸå¤±å¹¶æä¾›ç›¸å…³çš„å›è°ƒåŠŸèƒ½ã€‚

`label_loss_items` æ–¹æ³•ç”¨äºè¿”å›ä¸€ä¸ªåŒ…å«è®­ç»ƒæŸå¤±é¡¹çš„å­—å…¸ï¼Œä¾¿äºè®°å½•å’Œç›‘æ§è®­ç»ƒè¿‡ç¨‹ä¸­çš„æŸå¤±å˜åŒ–ã€‚

`progress_string` æ–¹æ³•è¿”å›ä¸€ä¸ªæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ï¼Œæ˜¾ç¤ºè®­ç»ƒè¿›åº¦ï¼ŒåŒ…æ‹¬å½“å‰çš„è½®æ¬¡ã€GPU å†…å­˜ä½¿ç”¨æƒ…å†µã€æŸå¤±å€¼ã€å®ä¾‹æ•°é‡å’Œå›¾åƒå¤§å°ç­‰ä¿¡æ¯ã€‚

`plot_training_samples` æ–¹æ³•ç”¨äºç»˜åˆ¶è®­ç»ƒæ ·æœ¬åŠå…¶æ ‡æ³¨ï¼Œä¾¿äºå¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹ä¸­çš„æ•°æ®ã€‚

æœ€åï¼Œ`plot_metrics` å’Œ `plot_training_labels` æ–¹æ³•åˆ†åˆ«ç”¨äºç»˜åˆ¶è®­ç»ƒè¿‡ç¨‹ä¸­çš„æŒ‡æ ‡å’Œæ ‡æ³¨å›¾ï¼Œå¸®åŠ©ç”¨æˆ·æ›´å¥½åœ°ç†è§£æ¨¡å‹çš„è®­ç»ƒæ•ˆæœã€‚

æ€»ä½“æ¥è¯´ï¼Œè¿™ä¸ªç¨‹åºæ–‡ä»¶ä¸ºç›®æ ‡æ£€æµ‹æ¨¡å‹çš„è®­ç»ƒæä¾›äº†ä¸€ä¸ªå®Œæ•´çš„æ¡†æ¶ï¼Œæ¶µç›–äº†æ•°æ®å¤„ç†ã€æ¨¡å‹è®­ç»ƒã€éªŒè¯å’Œå¯è§†åŒ–ç­‰å¤šä¸ªæ–¹é¢ã€‚

### 12.ç³»ç»Ÿæ•´ä½“ç»“æ„ï¼ˆèŠ‚é€‰ï¼‰

### æ•´ä½“åŠŸèƒ½å’Œæ„æ¶æ¦‚æ‹¬

è¯¥ç¨‹åºçš„æ•´ä½“åŠŸèƒ½æ˜¯å®ç°ä¸€ä¸ªåŸºäº YOLO å’Œå…¶ä»–å…ˆè¿›æ¨¡å‹ï¼ˆå¦‚ FastSAM å’Œ RT-DETRï¼‰çš„ç›®æ ‡æ£€æµ‹å’Œå›¾åƒåˆ†å‰²ç³»ç»Ÿã€‚ç³»ç»Ÿçš„æ¶æ„åŒ…æ‹¬å¤šä¸ªæ¨¡å—ï¼Œæ¶µç›–äº†æ¨¡å‹çš„å®šä¹‰ã€è®­ç»ƒã€æ¨ç†ã€å¯è§†åŒ–å’Œå›è°ƒç­‰åŠŸèƒ½ã€‚ä¸»è¦æ¨¡å—åŒ…æ‹¬ï¼š

1. **æ¨¡å‹å®šä¹‰**ï¼šå®šä¹‰äº†ä¸åŒçš„ç›®æ ‡æ£€æµ‹å’Œåˆ†å‰²æ¨¡å‹ï¼ˆå¦‚ YOLOã€FastSAMã€RT-DETRï¼‰ï¼Œæä¾›äº†æ¨¡å‹çš„åˆå§‹åŒ–å’Œæ¨ç†æ¥å£ã€‚
2. **è®­ç»ƒæ¡†æ¶**ï¼šæä¾›äº†è®­ç»ƒæ¨¡å‹çš„å®Œæ•´æµç¨‹ï¼ŒåŒ…æ‹¬æ•°æ®é›†æ„å»ºã€æ•°æ®åŠ è½½ã€æ¨¡å‹è®­ç»ƒã€éªŒè¯å’ŒæŸå¤±è®°å½•ç­‰ã€‚
3. **å›è°ƒæœºåˆ¶**ï¼šé›†æˆäº†ä¸å¤–éƒ¨å·¥å…·ï¼ˆå¦‚ Weights & Biasesï¼‰çš„å›è°ƒï¼Œä»¥ä¾¿äºè®°å½•å’Œå¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹ä¸­çš„æŒ‡æ ‡ã€‚
4. **å¯è§†åŒ–å·¥å…·**ï¼šæä¾›äº†å¯è§†åŒ–è®­ç»ƒæ ·æœ¬ã€æŒ‡æ ‡å’Œæ¨¡å‹é¢„æµ‹ç»“æœçš„åŠŸèƒ½ï¼Œå¸®åŠ©ç”¨æˆ·ç†è§£æ¨¡å‹çš„è®­ç»ƒå’Œæ¨ç†æ•ˆæœã€‚
5. **è¾…åŠ©åŠŸèƒ½**ï¼šåŒ…æ‹¬å›¾åƒå¤„ç†ã€æ•°æ®å¢å¼ºå’Œæ¨¡å‹æ¨ç†ç­‰è¾…åŠ©åŠŸèƒ½æ¨¡å—ã€‚

### æ–‡ä»¶åŠŸèƒ½æ•´ç†è¡¨

| æ–‡ä»¶è·¯å¾„                                                                                               | åŠŸèƒ½æè¿°                                                                                         |
|------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------|
| `D:\tools\20240809\code\ui.py`                                                                       | å¯åŠ¨ Streamlit åº”ç”¨ä»¥è¿è¡ŒæŒ‡å®šçš„æ¨¡å‹è„šæœ¬ï¼ˆå¦‚ `web.py`ï¼‰ã€‚                                          |
| `D:\tools\20240809\code\ultralytics\models\rtdetr\model.py`                                         | å®šä¹‰ RT-DETR æ¨¡å‹çš„æ¥å£ï¼Œæ”¯æŒæ¨¡å‹åŠ è½½ã€è®­ç»ƒå’Œæ¨ç†ã€‚                                             |
| `D:\tools\20240809\code\70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\utils\callbacks\wb.py` | é›†æˆ Weights & Biases è¿›è¡Œè®­ç»ƒè¿‡ç¨‹çš„è®°å½•å’Œå¯è§†åŒ–ã€‚                                             |
| `D:\tools\20240809\code\ultralytics\models\fastsam\model.py`                                        | å®šä¹‰ FastSAM æ¨¡å‹çš„æ¥å£ï¼Œæ”¯æŒå›¾åƒåˆ†å‰²ä»»åŠ¡çš„é¢„æµ‹å’ŒéªŒè¯ã€‚                                         |
| `D:\tools\20240809\code\70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\models\fastsam\prompt.py` | æä¾›å›¾åƒæ³¨é‡Šå’Œå¯è§†åŒ–åŠŸèƒ½ï¼Œç»“åˆ CLIP æ¨¡å‹è¿›è¡Œå›¾åƒå’Œæ–‡æœ¬çš„ç›¸ä¼¼æ€§è®¡ç®—ã€‚                             |
| `D:\tools\20240809\code\train.py`                                                                    | å®ç°ç›®æ ‡æ£€æµ‹æ¨¡å‹çš„è®­ç»ƒæ¡†æ¶ï¼ŒåŒ…æ‹¬æ•°æ®é›†æ„å»ºã€æ¨¡å‹è®­ç»ƒå’ŒéªŒè¯ç­‰åŠŸèƒ½ã€‚                             |
| `D:\tools\20240809\code\70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\models\yolo\detect\predict.py` | å®ç° YOLO æ¨¡å‹çš„æ¨ç†åŠŸèƒ½ï¼Œå¤„ç†è¾“å…¥å›¾åƒå¹¶è¿”å›æ£€æµ‹ç»“æœã€‚                                          |
| `D:\tools\20240809\code\70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\utils\dist.py` | æä¾›åˆ†å¸ƒå¼è®­ç»ƒçš„æ”¯æŒï¼Œç®¡ç†å¤šè¿›ç¨‹å’Œå¤š GPU çš„è®­ç»ƒè¿‡ç¨‹ã€‚                                           |
| `D:\tools\20240809\code\ultralytics\solutions\speed_estimation.py`                                   | å®ç°é€Ÿåº¦ä¼°è®¡åŠŸèƒ½ï¼Œå¯èƒ½ç”¨äºè¯„ä¼°æ¨¡å‹åœ¨ä¸åŒè¾“å…¥ä¸‹çš„æ¨ç†é€Ÿåº¦ã€‚                                     |
| `D:\tools\20240809\code\70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\nn\extra_modules\block.py` | å®šä¹‰é¢å¤–çš„ç¥ç»ç½‘ç»œæ¨¡å—ï¼Œå¯èƒ½ç”¨äºæ„å»ºæ›´å¤æ‚çš„æ¨¡å‹ç»“æ„ã€‚                                          |
| `D:\tools\20240809\code\70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\models\yolo\classify\__init__.py` | åˆå§‹åŒ– YOLO åˆ†ç±»æ¨¡å‹æ¨¡å—ï¼Œå¯èƒ½åŒ…å«åˆ†ç±»ç›¸å…³çš„åŠŸèƒ½å’Œæ¨¡å‹å®šä¹‰ã€‚                                   |
| `D:\tools\20240809\code\ultralytics\models\fastsam\utils.py`                                        | æä¾› FastSAM æ¨¡å‹çš„è¾…åŠ©åŠŸèƒ½ï¼Œå¦‚å›¾åƒå¤„ç†å’Œæ•°æ®å¢å¼ºç­‰ã€‚                                           |
| `D:\tools\20240809\code\ultralytics\models\sam\amg.py`                                             | å®ç° SAMï¼ˆSegment Anything Modelï¼‰ç›¸å…³çš„åŠŸèƒ½ï¼Œå¯èƒ½æ¶‰åŠå›¾åƒåˆ†å‰²å’Œå¤„ç†ã€‚                          |

è¿™ä¸ªè¡¨æ ¼æ€»ç»“äº†æ¯ä¸ªæ–‡ä»¶çš„ä¸»è¦åŠŸèƒ½ï¼Œä¾¿äºç†è§£æ•´ä¸ªç³»ç»Ÿçš„ç»“æ„å’ŒåŠŸèƒ½æ¨¡å—ã€‚

æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰â€ä¸­éƒ¨åˆ†ä»£ç å¯èƒ½ä¼šä¼˜åŒ–å‡çº§ï¼Œä»…ä¾›å‚è€ƒå­¦ä¹ ï¼Œå®Œæ•´â€œè®­ç»ƒæºç â€ã€â€œWebå‰ç«¯ç•Œé¢â€å’Œâ€œ70+ç§åˆ›æ–°ç‚¹æºç â€ä»¥â€œ13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–â€çš„å†…å®¹ä¸ºå‡†ã€‚

### 13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–

![19.png](19.png)


# [ä¸‹è½½é“¾æ¥ï¼šhttps://mbd.pub/o/bread/ZpuUlJlr](https://mbd.pub/o/bread/ZpuUlJlr)